(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{215:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),s=r(4),i=r(30),a=r(57),c=r(65),d=r(475),u=r(248),l=r(249),p=r(250),m=r(251),h=r(384),f=r(486),g=r(91),v=w=n.__decorate([o.NgModule({imports:[c.NgbModule,s.CommonModule,i.FormsModule,i.ReactiveFormsModule,a.RouterModule,d.AccountViewRouteModule,f.ChangePasswordModule,g.LoadingModule],declarations:[u.AccountViewComponent,l.AccountDetailViewComponent,m.AccountPurchaseViewComponent],exports:[u.AccountViewComponent,l.AccountDetailViewComponent,m.AccountPurchaseViewComponent],providers:[p.AccountDetailViewService,h.AccountPurchaseViewService]})],w);function w(){}e.AccountViewModule=v},248:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),s=r(82),i=a=n.__decorate([o.Component({selector:"app-account-view",template:r(476),styles:[r(477)]}),n.__metadata("design:paramtypes",[s.IdentityService])],a);function a(t){this.identityService=t}e.AccountViewComponent=i},249:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),s=r(57),i=r(30),a=r(65),c=r(82),d=r(250),u=(l.prototype.ngOnInit=function(){this.initialize(),this.initializeForm()},l.prototype.ngOnDestroy=function(){this.accountDetailViewService.reset()},l.prototype.initialize=function(){var t=this;this.accountDetailViewService.initialize().subscribe(function(){t.firstName.setValue(t.accountDetailViewService.getIdentity().firstName),t.lastName.setValue(t.accountDetailViewService.getIdentity().lastName)})},l.prototype.initializeForm=function(){this.currentForm=this.formBuilder.group({firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,passwordConfirm:this.passwordConfirm}),this.currentForm.controls.firstName.setValidators([i.Validators.required,i.Validators.minLength(2),i.Validators.maxLength(100)]),this.currentForm.controls.lastName.setValidators([i.Validators.required,i.Validators.minLength(2),i.Validators.maxLength(100)])},l.prototype.getIdentity=function(){return this.accountDetailViewService.getIdentity()},l.prototype.setEdit=function(){this.accountDetailViewService.setEdit(!0)},l.prototype.isEdit=function(){return this.accountDetailViewService.isEdit()},l.prototype.isLoading=function(){return this.accountDetailViewService.isLoading()},l.prototype.onSubmit=function(){this.currentForm.valid?this.save():this.validateFormFields(this.currentForm)},l.prototype.save=function(){var t={firstName:this.firstName.value,lastName:this.lastName.value};this.accountDetailViewService.save(t).subscribe(function(){})},l.prototype.openChangePassword=function(){this.modalService.open(this.changePasswordContent)},l.prototype.onCloseChangePassword=function(){this.modalService.dismissAll()},l.prototype.onChangePassword=function(){var t=this;this.identityService.logout().subscribe(function(){t.onCloseChangePassword(),t.router.navigate(["/welcome"])})},l.prototype.getAccountId=function(){return this.identityService.getAccountId()},l.prototype.hasError=function(){return this.accountDetailViewService.hasError()},l.prototype.validateFormFields=function(r){var n=this;Object.keys(r.controls).forEach(function(t){var e=r.get(t);e instanceof i.FormControl?e.markAsTouched({onlySelf:!0}):e instanceof i.FormGroup&&n.validateFormFields(e)})},n.__decorate([o.ViewChild("changePasswordContent",{static:!1}),n.__metadata("design:type",a.NgbModal)],l.prototype,"changePasswordContent",void 0),l=n.__decorate([o.Component({selector:"app-account-detail-view",template:r(479),styles:[r(480)]}),n.__metadata("design:paramtypes",[d.AccountDetailViewService,c.IdentityService,i.FormBuilder,a.NgbModal,s.Router])],l));function l(t,e,r,n,o){this.accountDetailViewService=t,this.identityService=e,this.formBuilder=r,this.modalService=n,this.router=o,this.firstName=new i.FormControl,this.lastName=new i.FormControl,this.email=new i.FormControl,this.password=new i.FormControl,this.passwordConfirm=new i.FormControl}e.AccountDetailViewComponent=u},250:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(29),s=r(0),i=r(24),a=r(23),c=r(82),d=r(124),u=r(90),l=(p.prototype.initialize=function(){var t=this;return this.setLoading(!0),this.identityService.initialize().pipe(a.finalize(function(){t.setLoading(!1)}))},p.prototype.getIdentity=function(){return this.identityService.getIdentity()},p.prototype.setEdit=function(t){this.edit=t},p.prototype.isEdit=function(){return this.edit},p.prototype.setLoading=function(t){this.loading=t},p.prototype.isLoading=function(){return this.loading},p.prototype.save=function(t){var e=this;return this.setLoading(!0),this.error=void 0,this.identityAccountModelService.putAccount(this.identityService.getAccountId(),t).pipe(a.catchError(function(t){return e.setError(t),i.throwError(t)}),a.finalize(function(){e.setLoading(!1)}),a.map(function(t){return e.identityService.setAccount(t),e.setEdit(!1),t}))},p.prototype.setError=function(t){this.error=new u.HttpErrorResponseState(t)},p.prototype.getError=function(){return this.error},p.prototype.hasError=function(){return!o.isUndefined(this.error)},p.prototype.reset=function(){this.error=void 0,this.setEdit(!1),this.setLoading(!1)},p=n.__decorate([s.Injectable(),n.__metadata("design:paramtypes",[c.IdentityService,d.IdentityAccountModelService])],p));function p(t,e){this.identityService=t,this.identityAccountModelService=e,this.edit=!1,this.loading=!1}e.AccountDetailViewService=l},251:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(229),s=r(0),i=r(82),a=r(384),c=(d.prototype.ngOnInit=function(){this.initialize()},d.prototype.isLoading=function(){return this.accountPurchaseViewService.isLoading()},d.prototype.isInitialized=function(){return this.accountPurchaseViewService.isInitialized()},d.prototype.initialize=function(){this.accountPurchaseViewService.initialize().subscribe(function(t){})},d.prototype.getTokenListHistory=function(){return this.accountPurchaseViewService.getTokenListHistory()},d.prototype.hasTokenList=function(){return this.accountPurchaseViewService.hasTokenList()},d.prototype.hasError=function(){return this.accountPurchaseViewService.hasError()},d.prototype.getError=function(){return this.accountPurchaseViewService.getError()},d.prototype.getDateString=function(t){return o(t).format("MM/DD/YYYY")},d=n.__decorate([s.Component({selector:"app-account-purchase-view",template:r(483),styles:[r(484)]}),n.__metadata("design:paramtypes",[i.IdentityService,a.AccountPurchaseViewService])],d));function d(t,e){this.identityService=t,this.accountPurchaseViewService=e}e.AccountPurchaseViewComponent=c},384:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(29),s=r(0),i=r(24),a=r(23),c=r(82),d=r(126),u=r(90),l=(p.prototype.initialize=function(){var e=this;return this.setLoading(!0),this.setInitialized(!1),this.error=void 0,this.contentPurchaseTokenModelService.getTokenListHistory({accountId:this.identityService.getAccountId()}).pipe(a.catchError(function(t){return e.setError(t),i.throwError(t)}),a.finalize(function(){e.setLoading(!1),e.setInitialized(!0)}),a.map(function(t){return e.tokenListHistory=t}))},p.prototype.getTokenListHistory=function(){return this.tokenListHistory},p.prototype.hasTokenList=function(){return!o.isUndefined(this.getTokenListHistory())},p.prototype.setInitialized=function(t){this.initialized=t},p.prototype.isInitialized=function(){return this.initialized},p.prototype.setLoading=function(t){this.loading=t},p.prototype.isLoading=function(){return this.loading},p.prototype.setError=function(t){this.error=new u.HttpErrorResponseState(t)},p.prototype.getError=function(){return this.error},p.prototype.hasError=function(){return!o.isUndefined(this.error)},p.prototype.reset=function(){this.error=void 0,this.setInitialized(!1),this.setLoading(!1)},p=n.__decorate([s.Injectable(),n.__metadata("design:paramtypes",[c.IdentityService,d.ContentPurchaseTokenModelService])],p));function p(t,e){this.identityService=t,this.contentPurchaseTokenModelService=e,this.initialized=!1,this.loading=!1}e.AccountPurchaseViewService=l},385:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(29),s=r(0),i=r(24),a=r(23),c=r(124),d=r(90),u=(l.prototype.setLoading=function(t){this.loading=t},l.prototype.isLoading=function(){return this.loading},l.prototype.setErrors=function(t){this.errorList=t},l.prototype.save=function(t,e){var r=this;return this.setLoading(!0),this.httpErrorResponseState=void 0,this.identityAccountModelService.putChangePassword(t,e).pipe(a.finalize(function(){r.setLoading(!1)}),a.catchError(function(t){return r.httpErrorResponseState=new d.HttpErrorResponseState(t),r.setErrors(t),i.throwError(t)}),a.map(function(t){return t}))},l.prototype.hasError=function(){return!o.isUndefined(this.httpErrorResponseState)},l.prototype.getError=function(){return this.httpErrorResponseState},l=n.__decorate([s.Injectable(),n.__metadata("design:paramtypes",[c.IdentityAccountModelService])],l));function l(t){this.identityAccountModelService=t,this.loading=!1}e.ChangePasswordService=u},475:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),s=r(57),i=r(248),a=r(249),c=r(251),d=r(242),u=[{path:"",component:i.AccountViewComponent,canActivate:[d.AuthGuardService],children:[{path:"",redirectTo:"detail"},{path:"detail",component:a.AccountDetailViewComponent},{path:"purchase",component:c.AccountPurchaseViewComponent}]}],l=p=n.__decorate([o.NgModule({imports:[s.RouterModule.forChild(u)]})],p);function p(){}e.AccountViewRouteModule=l},476:function(t,e){t.exports='<div class="container">\r\n    <div class="row">\r\n        <div class="col-lg-8 offset-lg-2 py-3 col-sm-12">\r\n            <nav>\r\n                <div class="nav nav-tabs">\r\n                    <a routerLink="/account/detail" \r\n                        routerLinkActive="active"\r\n                        class="nav-item nav-link text-dark">\r\n                        <i class="fas fa-user mr-2"></i>\r\n                        <span>My Account</span>\r\n                    </a>\r\n                    <a routerLink="/account/purchase"\r\n                        routerLinkActive="active"\r\n                        class="nav-item nav-link text-dark">\r\n                        <i class="fas fa-file-invoice mr-2"></i>\r\n                        <span>Purchase</span>\r\n                    </a>\r\n                </div>\r\n            </nav>\r\n            <div class="tab-content py-3 px-3">\r\n                <router-outlet></router-outlet>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},477:function(t,e,r){var n=r(478);t.exports="string"==typeof n?n:n.toString()},478:function(t,e,r){(e=r(56)(!1)).push([t.i,".nav-item{cursor:default}.nav-item:not(.active){cursor:pointer}.tab-content{border:1px solid transparent;border-color:#fff #dee2e6 #dee2e6 #dee2e6}",""]),t.exports=e},479:function(t,e){t.exports='<div class="position-relative">\r\n    <ng-template [ngIf]="isLoading()">\r\n        <div class="position-absolute h-100 w-100 d-flex align-items-center justify-content-center loading-wrapper">\r\n            <app-loading [size]="\'sm\'" [text]="\'Saving..\'"></app-loading>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template [ngIf]="hasError()">\r\n        <div class="alert alert-danger">\r\n            Service unvailable at the moment. Please try again later\r\n        </div>\r\n    </ng-template>\r\n    <form [formGroup]="currentForm" (ngSubmit)="onSubmit()">\r\n        <div class="form-group row mb-2">\r\n          <label class="col-sm-3 col-form-label">First Name:</label>\r\n          <div class="col-sm-9">\r\n            <input \r\n                type="text" \r\n                [class.form-control-plaintext]="!isEdit()" \r\n                [class.form-control]="isEdit()"\r\n                [readonly]="!isEdit()"\r\n                [formControl]="firstName" \r\n                [class.border-danger]="firstName.hasError(\'required\') && firstName.touched"\r\n                [(ngModel)]="firstName.value"\r\n                class="rounded-0" \r\n                id="firstName" \r\n                name="firstName">\r\n                <p *ngIf="firstName.invalid && firstName.touched" class="input-errors">\r\n                    <span *ngIf="firstName.hasError(\'required\')">First Name is required</span>\r\n                    <span *ngIf="firstName.hasError(\'minlength\') || firstName.hasError(\'maxlength\')">First name should have 2 to 100 characters</span>\r\n                </p>\r\n          </div>\r\n        </div>\r\n        <div class="form-group row mb-2">\r\n            <label class="col-sm-3 col-form-label">Last Name:</label>\r\n            <div class="col-sm-9">\r\n                <input \r\n                type="text" \r\n                [class.form-control-plaintext]="!isEdit()" \r\n                [class.form-control]="isEdit()"\r\n                [readonly]="!isEdit()"\r\n                [formControl]="lastName" \r\n                [class.border-danger]="lastName.hasError(\'required\') && lastName.touched"\r\n                [(ngModel)]="lastName.value"\r\n                class="rounded-0" \r\n                id="lastName" \r\n                name="lastName">\r\n                <p *ngIf="lastName.invalid && lastName.touched" class="input-errors">\r\n                    <span *ngIf="lastName.hasError(\'required\')">Last Name is required</span>\r\n                    <span *ngIf="lastName.hasError(\'minlength\') || lastName.hasError(\'maxlength\')">Last Name should have 2 to 100 characters</span>\r\n                </p>\r\n              </div>\r\n        </div>\r\n        <div class="form-group row mb-3">\r\n            <label class="col-sm-3 col-form-label">Email:</label>\r\n            <div class="col-sm-9">\r\n                <input type="text" \r\n                    [class.form-control-plaintext]="!isEdit()" \r\n                    [class.form-control]="isEdit()"\r\n                    [readonly]="!isEdit()"\r\n                    [value]="getIdentity()?.email" />\r\n              </div>\r\n        </div>\r\n        <button *ngIf="!isEdit()" \r\n                (click)="setEdit()" \r\n                type="button" \r\n                class="btn btn-app rounded-0"><i class="fas fa-edit mr-2"></i>Edit</button>\r\n        <button *ngIf="isEdit()" \r\n            type="submit" \r\n            class="btn btn-app rounded-0 mx-1">\r\n            <i class="fas fa-save mr-2"></i>Update</button>\r\n        <button (click)="openChangePassword()" class="btn btn-app rounded-0 mx-1" type="button">\r\n            <i class="fas fa-key"></i> Change Password\r\n        </button>\r\n    </form>\r\n</div>\r\n\r\n<ng-template #changePasswordContent>\r\n    <div class="modal-header py-2 border-0">\r\n        <h5 class="p-0 m-0">Change Password</h5>\r\n    </div>\r\n    <div class="modal-body">\r\n        <app-change-password \r\n            [accountId]="getAccountId()"\r\n            (onSave)="onChangePassword($event)"\r\n            (onClose)="onCloseChangePassword($event)"></app-change-password>\r\n    </div>\r\n</ng-template>'},480:function(t,e,r){var n=r(481);t.exports="string"==typeof n?n:n.toString()},481:function(t,e,r){(e=r(56)(!1)).push([t.i,".loading-wrapper{z-index:2}.modal-header{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1)}",""]),t.exports=e},482:function(t,e,r){var n={"./af":252,"./af.js":252,"./ar":253,"./ar-dz":254,"./ar-dz.js":254,"./ar-kw":255,"./ar-kw.js":255,"./ar-ly":256,"./ar-ly.js":256,"./ar-ma":257,"./ar-ma.js":257,"./ar-sa":258,"./ar-sa.js":258,"./ar-tn":259,"./ar-tn.js":259,"./ar.js":253,"./az":260,"./az.js":260,"./be":261,"./be.js":261,"./bg":262,"./bg.js":262,"./bm":263,"./bm.js":263,"./bn":264,"./bn.js":264,"./bo":265,"./bo.js":265,"./br":266,"./br.js":266,"./bs":267,"./bs.js":267,"./ca":268,"./ca.js":268,"./cs":269,"./cs.js":269,"./cv":270,"./cv.js":270,"./cy":271,"./cy.js":271,"./da":272,"./da.js":272,"./de":273,"./de-at":274,"./de-at.js":274,"./de-ch":275,"./de-ch.js":275,"./de.js":273,"./dv":276,"./dv.js":276,"./el":277,"./el.js":277,"./en-au":278,"./en-au.js":278,"./en-ca":279,"./en-ca.js":279,"./en-gb":280,"./en-gb.js":280,"./en-ie":281,"./en-ie.js":281,"./en-il":282,"./en-il.js":282,"./en-in":283,"./en-in.js":283,"./en-nz":284,"./en-nz.js":284,"./en-sg":285,"./en-sg.js":285,"./eo":286,"./eo.js":286,"./es":287,"./es-do":288,"./es-do.js":288,"./es-us":289,"./es-us.js":289,"./es.js":287,"./et":290,"./et.js":290,"./eu":291,"./eu.js":291,"./fa":292,"./fa.js":292,"./fi":293,"./fi.js":293,"./fil":294,"./fil.js":294,"./fo":295,"./fo.js":295,"./fr":296,"./fr-ca":297,"./fr-ca.js":297,"./fr-ch":298,"./fr-ch.js":298,"./fr.js":296,"./fy":299,"./fy.js":299,"./ga":300,"./ga.js":300,"./gd":301,"./gd.js":301,"./gl":302,"./gl.js":302,"./gom-deva":303,"./gom-deva.js":303,"./gom-latn":304,"./gom-latn.js":304,"./gu":305,"./gu.js":305,"./he":306,"./he.js":306,"./hi":307,"./hi.js":307,"./hr":308,"./hr.js":308,"./hu":309,"./hu.js":309,"./hy-am":310,"./hy-am.js":310,"./id":311,"./id.js":311,"./is":312,"./is.js":312,"./it":313,"./it-ch":314,"./it-ch.js":314,"./it.js":313,"./ja":315,"./ja.js":315,"./jv":316,"./jv.js":316,"./ka":317,"./ka.js":317,"./kk":318,"./kk.js":318,"./km":319,"./km.js":319,"./kn":320,"./kn.js":320,"./ko":321,"./ko.js":321,"./ku":322,"./ku.js":322,"./ky":323,"./ky.js":323,"./lb":324,"./lb.js":324,"./lo":325,"./lo.js":325,"./lt":326,"./lt.js":326,"./lv":327,"./lv.js":327,"./me":328,"./me.js":328,"./mi":329,"./mi.js":329,"./mk":330,"./mk.js":330,"./ml":331,"./ml.js":331,"./mn":332,"./mn.js":332,"./mr":333,"./mr.js":333,"./ms":334,"./ms-my":335,"./ms-my.js":335,"./ms.js":334,"./mt":336,"./mt.js":336,"./my":337,"./my.js":337,"./nb":338,"./nb.js":338,"./ne":339,"./ne.js":339,"./nl":340,"./nl-be":341,"./nl-be.js":341,"./nl.js":340,"./nn":342,"./nn.js":342,"./oc-lnc":343,"./oc-lnc.js":343,"./pa-in":344,"./pa-in.js":344,"./pl":345,"./pl.js":345,"./pt":346,"./pt-br":347,"./pt-br.js":347,"./pt.js":346,"./ro":348,"./ro.js":348,"./ru":349,"./ru.js":349,"./sd":350,"./sd.js":350,"./se":351,"./se.js":351,"./si":352,"./si.js":352,"./sk":353,"./sk.js":353,"./sl":354,"./sl.js":354,"./sq":355,"./sq.js":355,"./sr":356,"./sr-cyrl":357,"./sr-cyrl.js":357,"./sr.js":356,"./ss":358,"./ss.js":358,"./sv":359,"./sv.js":359,"./sw":360,"./sw.js":360,"./ta":361,"./ta.js":361,"./te":362,"./te.js":362,"./tet":363,"./tet.js":363,"./tg":364,"./tg.js":364,"./th":365,"./th.js":365,"./tl-ph":366,"./tl-ph.js":366,"./tlh":367,"./tlh.js":367,"./tr":368,"./tr.js":368,"./tzl":369,"./tzl.js":369,"./tzm":370,"./tzm-latn":371,"./tzm-latn.js":371,"./tzm.js":370,"./ug-cn":372,"./ug-cn.js":372,"./uk":373,"./uk.js":373,"./ur":374,"./ur.js":374,"./uz":375,"./uz-latn":376,"./uz-latn.js":376,"./uz.js":375,"./vi":377,"./vi.js":377,"./x-pseudo":378,"./x-pseudo.js":378,"./yo":379,"./yo.js":379,"./zh-cn":380,"./zh-cn.js":380,"./zh-hk":381,"./zh-hk.js":381,"./zh-mo":382,"./zh-mo.js":382,"./zh-tw":383,"./zh-tw.js":383};function o(t){var e=s(t);return r(e)}function s(t){if(r.o(n,t))return n[t];var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(n)},o.resolve=s,(t.exports=o).id=482},483:function(t,e){t.exports='<div class="position-relative">\r\n    <ng-template [ngIf]="isLoading() && !isInitialized()">\r\n        <div class="d-flex align-items-center justify-content-center loading-wrapper">\r\n            <app-loading [size]="\'sm\'" [text]="\'Loading..\'"></app-loading>\r\n        </div>\r\n    </ng-template>\r\n    <ng-template [ngIf]="hasError()">\r\n        <div *ngIf="getError().isErrorNotFound()" class="alert alert-info mb-0 rounded-0">\r\n            No purchase history.\r\n        </div>\r\n        <div *ngIf="getError().isError5xx()" class="alert alert-danger mb-0 rounded-0">\r\n            Service unvailable at the moment. Please try again later\r\n        </div>\r\n    </ng-template>\r\n    <ng-template [ngIf]="!isLoading() && isInitialized() && hasTokenList()">\r\n        <ng-container *ngFor="let purchase of getTokenListHistory(); let i = index">\r\n            <div class="card mb-3 border-0 rounded-0">\r\n                <div class="card-header bg-light py-2 px-3 rounded-0 d-flex justify-content-between">\r\n                    <span>\r\n                        <i class="fas fa-file-invoice mr-1"></i> Receipt #{{i + 1}}\r\n                    </span>\r\n                    <span>\r\n                        <i class="far fa-calendar-alt mr-1"></i>{{getDateString(purchase.dateCreated)}}\r\n                    </span>\r\n                </div>\r\n                <div class="card-body d-flex flex-row justify-content-between p-3">\r\n                    <div class="d-flex flex-column">\r\n                        <span>Price: P100.00</span>\r\n                        <span>Product Type: {{purchase?.categoryName}}</span>\r\n                        <span>Product Name: {{purchase?.productName}}</span>\r\n                        <span>Quantity: {{purchase?.quantity}}</span>\r\n                    </div>\r\n                    <div class="d-flex align-items-center">\r\n                        <span class="text-center download-receipt">\r\n                            <span class="d-block">Download Receipt</span>\r\n                            <i class="fas fa-download"></i>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </ng-container>    \r\n    </ng-template>\r\n</div>'},484:function(t,e,r){var n=r(485);t.exports="string"==typeof n?n:n.toString()},485:function(t,e,r){(e=r(56)(!1)).push([t.i,".loading-wrapper{z-index:2}.card{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1)}.download-receipt{cursor:pointer;font-size:.9em}",""]),t.exports=e},486:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),s=r(4),i=r(30),a=r(65),c=r(487),d=r(385),u=r(91),l=p=n.__decorate([o.NgModule({imports:[a.NgbModule,i.FormsModule,i.ReactiveFormsModule,s.CommonModule,u.LoadingModule],declarations:[c.ChangePasswordComponent],exports:[c.ChangePasswordComponent],providers:[d.ChangePasswordService]})],p);function p(){}e.ChangePasswordModule=l},487:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(0),s=r(30),i=r(139),a=r(127),c=r(385),d=(u.prototype.initializeForm=function(){this.currentForm=this.formBuilder.group({passwordCurrent:this.passwordCurrent,passwordNew:this.passwordNew,passwordConfirm:this.passwordConfirm}),this.currentForm.controls.passwordCurrent.setValidators([s.Validators.required,s.Validators.minLength(5)]),this.currentForm.controls.passwordNew.setValidators([s.Validators.required,s.Validators.minLength(5)]),this.currentForm.controls.passwordConfirm.setValidators([s.Validators.required,i.matchValueValidator("passwordNew",this.currentForm)])},u.prototype.getAccountId=function(){return this.accountId},u.prototype.onSubmit=function(){var t=this;this.currentForm.valid?this.changePasswordService.save(this.getAccountId(),{oldPassword:this.passwordCurrent.value,newPassword:this.passwordNew.value}).subscribe(function(){t.onSave.emit(!0)},function(){}):a.validateFormFields(this.currentForm)},u.prototype.isLoading=function(){return this.changePasswordService.isLoading()},u.prototype.hasError=function(){return this.changePasswordService.hasError()},u.prototype.getError=function(){return this.changePasswordService.getError()},u.prototype.close=function(){this.onClose.emit(!0)},n.__decorate([o.Input(),n.__metadata("design:type",Number)],u.prototype,"accountId",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],u.prototype,"onClose",void 0),n.__decorate([o.Output(),n.__metadata("design:type",o.EventEmitter)],u.prototype,"onSave",void 0),u=n.__decorate([o.Component({selector:"app-change-password",template:r(488),styles:[r(489)]}),n.__metadata("design:paramtypes",[s.FormBuilder,c.ChangePasswordService])],u));function u(t,e){this.formBuilder=t,this.changePasswordService=e,this.accountId=0,this.onClose=new o.EventEmitter,this.onSave=new o.EventEmitter,this.passwordCurrent=new s.FormControl,this.passwordNew=new s.FormControl,this.passwordConfirm=new s.FormControl,this.initializeForm()}e.ChangePasswordComponent=d},488:function(t,e){t.exports='<div class="position-relative">\r\n    <ng-template [ngIf]="isLoading()">\r\n        <div class="position-absolute h-100 w-100 d-flex justify-content-center align-items-center">\r\n            <app-loading [type]="\'simple\'" [size]="\'sm\'"></app-loading>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <ng-template [ngIf]="hasError()">\r\n        <div *ngIf="getError().isErrorUnauthorized()" class="alert alert-danger">\r\n            The current password you entered is incorrect\r\n        </div>\r\n    </ng-template>\r\n    <form [formGroup]="currentForm" (ngSubmit)="onSubmit()">\r\n        <div class="form-group mb-1">\r\n            <label>Enter Current Password:</label>\r\n            <input type="password" \r\n                    [formControl]="passwordCurrent" \r\n                    [class.border-danger]="passwordCurrent.hasError(\'required\') && passwordCurrent.touched"\r\n                    class="form-control rounded-0">\r\n                <p *ngIf="passwordCurrent.invalid && passwordCurrent.touched" class="input-errors">\r\n                    <span *ngIf="passwordCurrent.hasError(\'required\')">Password is required</span>\r\n                    <span *ngIf="passwordCurrent.hasError(\'minlength\')">Password should have minimum of 5 characters</span>\r\n                </p>\r\n        </div>\r\n        <div class="form-group mb-1">\r\n            <label>Enter New Password:</label>\r\n            <input type="password" \r\n                    [formControl]="passwordNew" \r\n                    [class.border-danger]="passwordNew.hasError(\'required\') && passwordNew.touched"\r\n                    class="form-control rounded-0">\r\n            <p *ngIf="passwordNew.invalid && passwordNew.touched" class="input-errors">\r\n                <span *ngIf="passwordNew.hasError(\'required\')">Password is required</span>\r\n                <span *ngIf="passwordNew.hasError(\'minlength\')">Password should have minimum of 5 characters</span>\r\n            </p>\r\n        </div>\r\n        <div class="form-group mb-3">\r\n            <label>Confirm New Password:</label>\r\n            <input type="password" \r\n                    [formControl]="passwordConfirm" \r\n                    [class.border-danger]="passwordConfirm.hasError(\'required\') && passwordConfirm.touched"\r\n                    class="form-control rounded-0">\r\n            <p *ngIf="passwordConfirm.invalid && passwordConfirm.touched" class="input-errors">\r\n                <span *ngIf="passwordConfirm.hasError(\'required\')">Confirm Password is required</span>\r\n                <span *ngIf="passwordConfirm.hasError(\'matchValue\') && !passwordConfirm.hasError(\'required\')">Your Password and Confirmation Password do not match</span>\r\n            </p>\r\n        </div>\r\n        <button type="submit" class="btn btn-app rounded-0 mx-1">Change Password</button>\r\n        <button (click)="close()" type="button" class="btn btn-app rounded-0 mx-1">Cancel</button>\r\n    </form>\r\n</div>'},489:function(t,e,r){var n=r(490);t.exports="string"==typeof n?n:n.toString()},490:function(t,e,r){(e=r(56)(!1)).push([t.i,".input-errors{color:red;font-size:.85em;margin-top:.2em;padding:0}",""]),t.exports=e}}]);