(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetupViewModule=void 0;var r=n(1),i=n(0),o=n(6),s=n(53),a=n(113),p=n(782),u=n(783),c=n(988),d=n(814),g=l=r.__decorate([(0,i.NgModule)({imports:[a.NgbModule,o.CommonModule,s.FormsModule,p.ColorPickerModule,u.GameSetupModule,c.SetupViewRouteModule],declarations:[d.SetupViewComponent]})],l);function l(){}t.SetupViewModule=g},777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegChangesList=t.GameSetupService=void 0;var r,i=n(1),p=n(52),o=n(0),s=n(44),a=n(45),u=n(779),c=n(780),d=n(786),g=n(253),l=n(778),m=n(167),h=((r=v).prototype.initializeByHashKey=function(e){var r=this;this.contentRungModelService.getRungLegsDataByHashKey(e).subscribe(function(e){var t=(0,p.get)(e,"rung"),n=(0,p.get)(e,"legs");r.setLegs(n),r.setOriginalLegs(n),r.setRung(t),r.setRungNodes((0,p.get)(t,"rungNodes")),r.setDescription((0,p.get)(t,"description"))})},v.prototype.reset=function(){this.legs=[],this.rung=void 0,this.rungNodes=[],this.description=""},v.prototype.addLeg=function(e){return(0,p.has)(e,"name")?(e.id=(0,p.get)((0,p.last)(this.getLegs()),"id",0)+1,this.legs.push(e),this.legs=[].concat(this.legs),console.log("New player added:  Name: "+e.name+" Rung color: ",e.color+" Player List: ",this.getLegs()),(0,s.of)(this.legs)):(0,s.throwError)(r.ERROR_MISSING_REQUIRED_PARAMETERS)},v.prototype.removeLeg=function(t){var n=this;return(0,p.remove)(this.getLegs(),function(e){return n.hasRungId()?e.legRungMatchId==t.legRungMatchId:t.id==e.id}),this.legs=[].concat(this.legs),(0,s.of)(this.legs)},v.prototype.getTotalLegs=function(){return(0,p.size)(this.getLegs())},v.prototype.getLegs=function(){return this.legs},v.prototype.setLegs=function(e){this.legs=e},v.prototype.hasLegs=function(){return 0<this.getTotalLegs()},v.prototype.setOriginalLegs=function(e){this.originalLegs=(0,p.cloneDeep)(e)},v.prototype.getOriginalLegs=function(){return this.originalLegs},v.prototype.getLegsObservable=function(){return(0,s.of)(this.getLegs())},v.prototype.getDataToString=function(){return JSON.stringify(this.getLegs())},v.prototype.setDescription=function(e){this.description=(0,p.trim)(e)},v.prototype.getDescription=function(){return this.description},v.prototype.hasDescription=function(){return!(0,p.isUndefined)(this.getDescription())&&0<this.getDescription().length},v.prototype.setDebugMode=function(e){this.debug=e},v.prototype.getGeneratedRungs=function(){return this.rungNodes},v.prototype.limitRungs=function(e,n){return null==e?void 0:e.map(function(e){var t;return i.__assign(i.__assign({},e),{list:null===(t=null==e?void 0:e.list)||void 0===t?void 0:t.slice(0,n)})})},v.prototype.setRungNodes=function(e){this.rungNodes=e},v.prototype.setRung=function(e){this.rung=e},v.prototype.getRung=function(){return this.rung},v.prototype.hasRungs=function(){return 0<this.getTotalRungs()},v.prototype.hasRungId=function(){return(0,p.has)(this.getRung(),"rungId")},v.prototype.getRungId=function(){return(0,p.get)(this.getRung(),"rungId")},v.prototype.getTotalRungs=function(){return(0,p.size)(this.getGeneratedRungs())},v.prototype.isLegModified=function(){return this.hasLegs()&&this.getTotalLegs()!=this.getTotalRungs()},v.prototype.isValidLegs=function(){return 0==(0,p.filter)(this.getLegs(),function(e){return""==(0,p.trim)(e.name)}).length},v.prototype.isValidBets=function(){return 0==(0,p.filter)(this.getLegs(),function(e){return""==(0,p.trim)(e.bet)}).length},v.prototype.draw=function(){var t=this;this.rungGeneratorService.draw(this.getLegs(),20).subscribe(function(e){t.rungNodes=e})},v.prototype.getParsedLegs=function(){return(0,p.map)(this.getLegs(),function(e){return new c.Leg,(0,p.pick)(e,["name","bet","ideogramId","color","legRungMatchId"])})},v.prototype.save=function(r){var i=this;this.gameSetupStateService.setLoading(!0),this.error=void 0;var e=this.identityRungModelService.post(r);return this.hasRungId()&&(e=this.identityRungModelService.put(this.getRungId(),r)),e.pipe((0,a.flatMap)(function(e){var t=(0,p.get)(e,"rungId"),n={legs:i.getParsedLegs()};return i.hasRungId()?i.updateLegs(t,r):i.identityRungModelService.postLeg(t,n)}),(0,a.finalize)(function(){i.contentRungModelService.deleteCache(),i.gameSetupStateService.setLoading(!1)}),(0,a.catchError)(function(e){return i.setError(e),(0,s.throwError)(e)}))},v.prototype.getLegChangesList=function(){var s=this,e=new f,a=["name","bet","ideogramId","color"],t=(0,p.map)(this.getLegs(),"legRungMatchId");return e.deleted=(0,p.filter)(this.getOriginalLegs(),function(e){return!(0,p.includes)(t,e.legRungMatchId)}),e.modified=(0,p.reduce)(this.getLegs(),function(e,t,n){var r=(0,p.find)(s.getOriginalLegs(),function(e){return(0,p.has)(e,"legRungMatchId")&&t.legRungMatchId==e.legRungMatchId});if(!(0,p.isEmpty)(r)){var i=(0,p.pick)(r,a),o=(0,p.pick)(t,a);if(!(0,p.isEqual)(i,o))return e.push(t),e}return e},[]),e.added=(0,p.filter)(this.getLegs(),function(e){return!(0,p.has)(e,"legRungMatchId")}),e},v.prototype.updateLegs=function(e,t){var n=(0,p.get)(t,"accountId"),r=this.getLegChangesList(),i=[];if((0,p.isEmpty)(r.modified)||i.push(this.identityRungModelService.putLeg(e,{accountId:n,legs:r.modified})),!(0,p.isEmpty)(r.deleted)){var o=(0,p.map)(r.deleted,"legRungMatchId");i.push(this.identityRungModelService.removeLegs(e,{accountId:n,legRungMatchIds:o.join(",")}))}return(0,p.isEmpty)(r.added)||i.push(this.identityRungModelService.postLeg(e,{accountId:n,legs:r.added})),0<i.length?(0,s.forkJoin)(i):(0,s.of)(void 0)},v.prototype.randomizeLegs=function(){var r=(0,p.chain)(this.getLegs()).map(function(e){return(0,p.pick)(e,["name","color"])}).shuffle().value(),i=(0,p.chain)(this.getLegs()).map(function(e){return(0,p.pick)(e,["bet","ideogramId"])}).shuffle().value(),e=(0,p.map)(this.getLegs(),function(e,t){var n=(0,p.pick)(e,["id","legRungMatchId"]);return(0,p.assign)({},n,r[t],i[t])});this.legs=e},v.prototype.setError=function(e){this.error=new m.HttpErrorResponseState(e)},v.prototype.hasError=function(){return!(0,p.isUndefined)(this.error)},v.prototype.isDebugMode=function(){return this.debug},v.ERROR_MISSING_REQUIRED_PARAMETERS="MISSING_REQUIRED_PARAMETERS",v=r=i.__decorate([(0,o.Injectable)(),i.__metadata("design:paramtypes",[u.RungGeneratorService,g.ContentRungModelService,d.IdentityRungModelService,l.GameSetupStateService])],v));function v(e,t,n,r){this.rungGeneratorService=e,this.contentRungModelService=t,this.identityRungModelService=n,this.gameSetupStateService=r,this.debug=!1,this.legs=[],this.originalLegs=[],this.rungNodes=[],this.description=""}t.GameSetupService=h;var f=function(){};t.LegChangesList=f},778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupStateService=void 0;var r,i=n(1),o=n(0),s=((r=a).prototype.isStepLeg=function(){return this.currentStep===r.STEP_LEG},a.prototype.isStepBet=function(){return this.currentStep===r.STEP_BET},a.prototype.isStepGenerateRungs=function(){return this.currentStep===r.STEP_GENERATE_RUNGS},a.prototype.isStepPreviewDetails=function(){return this.currentStep===r.STEP_PREVIEW_DETAILS},a.prototype.goNextStep=function(e){this.currentStep=e},a.prototype.getCurrentStep=function(){return this.currentStep},a.prototype.gotoFirstStep=function(){this.goNextStep(r.STEP_LEG)},a.prototype.isLoading=function(){return this.loading},a.prototype.setLoading=function(e){this.loading=e},a.STEP_LEG=0,a.STEP_BET=1,a.STEP_GENERATE_RUNGS=2,a.STEP_PREVIEW_DETAILS=3,a=r=i.__decorate([(0,o.Injectable)(),i.__metadata("design:paramtypes",[])],a));function a(){this.loading=!1,this.currentStep=r.STEP_LEG}t.GameSetupStateService=s},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupModule=void 0;var r=n(1),i=n(0),o=n(6),s=n(53),a=n(113),p=n(782),u=n(784),c=n(777),d=n(778),g=n(787),l=n(791),m=n(795),h=n(799),v=n(803),f=n(807),S=n(781),y=b=r.__decorate([(0,i.NgModule)({imports:[a.NgbModule,o.CommonModule,s.FormsModule,p.ColorPickerModule,u.IdeogramPickerModule,S.RungGeneratorModule],declarations:[l.GameSetupComponent,m.GameSetupLegComponent,h.GameSetupBetComponent,v.GameSetupRungComponent,g.GameSetupDebugComponent,f.GameSetupPreviewDetailsComponent],exports:[l.GameSetupComponent,m.GameSetupLegComponent,h.GameSetupBetComponent,v.GameSetupRungComponent,g.GameSetupDebugComponent,f.GameSetupPreviewDetailsComponent],providers:[c.GameSetupService,d.GameSetupStateService]})],b);function b(){}t.GameSetupModule=y},786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteRungParams=t.DeleteRungLegParams=t.PutRungLegParams=t.PostRungLegParams=t.PutRungParams=t.PostRungParams=t.IdentityRungModelService=void 0;var r=n(1),i=n(0),o=n(114),s=(a.prototype.post=function(e){return this.connectionFactoryService.service("identity").setPath("rung").post({},e)},a.prototype.put=function(e,t){return this.connectionFactoryService.service("identity").setPath("rung/".concat(e)).put({},t)},a.prototype.postLeg=function(e,t){return this.connectionFactoryService.service("identity").setPath("rung/".concat(e,"/leg")).post({},t)},a.prototype.remove=function(e,t){return void 0===t&&(t={}),this.connectionFactoryService.service("identity").setPath("rung/".concat(e)).delete(t,void 0)},a.prototype.putLeg=function(e,t){return this.connectionFactoryService.service("identity").setPath("rung/".concat(e,"/leg")).put({},t)},a.prototype.removeLegs=function(e,t){return this.connectionFactoryService.service("identity").setPath("rung/".concat(e,"/leg")).delete(t,void 0)},a.prototype.getList=function(e,t){return void 0===t&&(t={}),this.connectionFactoryService.service("identity").setPath("rung/".concat(e,"/leg")).get({},t)},a=r.__decorate([(0,i.Injectable)({providedIn:"root"}),r.__metadata("design:paramtypes",[o.ConnectionFactoryService])],a));function a(e){this.connectionFactoryService=e}t.IdentityRungModelService=s;function p(){}t.PostRungParams=p;var u,c=(u=p,r.__extends(d,u),d);function d(){return null!==u&&u.apply(this,arguments)||this}t.PutRungParams=c;function g(){}t.PostRungLegParams=g;var l,m=(l=g,r.__extends(h,l),h);function h(){return null!==l&&l.apply(this,arguments)||this}t.PutRungLegParams=m;function v(){}t.DeleteRungLegParams=v;function f(){}t.DeleteRungParams=f},787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupDebugComponent=void 0;var r=n(1),i=n(0),o=n(777),s=(a.prototype.getTotalLegs=function(){return this.gameSetupService.getTotalLegs()},a.prototype.getDataToString=function(){return this.gameSetupService.getDataToString()},a=r.__decorate([(0,i.Component)({selector:"app-game-setup-debug",template:n(788),styles:[n(789)]}),r.__metadata("design:paramtypes",[o.GameSetupService])],a));function a(e){this.gameSetupService=e}t.GameSetupDebugComponent=s},788:function(e,t){e.exports='<div class="debug-screen border-dark bg-dark">\r\n  <code class="d-block p-0 mb-2 text-white">\r\n    Total: {{getTotalLegs()}}\r\n  </code>\r\n  <code class="d-block p-0 mb-2 text-white">\r\n    <span>Debug data:</span>\r\n    <p>\r\n      {{getDataToString()}}\r\n    </p>\r\n  </code>\r\n</div>\r\n'},789:function(e,t,n){var r=n(790);e.exports="string"==typeof r?r:r.toString()},790:function(e,t,n){(t=n(100)(!1)).push([e.i,".debug-screen{padding:.5em;font-size:.78em;color:#333 !important}",""]),e.exports=t},791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupComponent=void 0;var r=n(1),i=n(52),o=n(0),s=n(777),a=n(778),p=n(113),u=(c.prototype.ngOnInit=function(){this.gameSetupService.setDebugMode(!1),this.initializeByHashKey()},c.prototype.ngOnDestroy=function(){this.gameSetupStateService.gotoFirstStep(),this.gameSetupService.setDescription(void 0),this.gameSetupService.setError(void 0)},c.prototype.initializeByHashKey=function(){this.hasHashKey()&&this.gameSetupService.initializeByHashKey(this.getHashKey())},c.prototype.getTotalLegs=function(){return this.gameSetupService.getTotalLegs()},c.prototype.isStepLeg=function(){return this.gameSetupStateService.isStepLeg()},c.prototype.isStepBet=function(){return this.gameSetupStateService.isStepBet()},c.prototype.isStepGenerateRungs=function(){return this.gameSetupStateService.isStepGenerateRungs()},c.prototype.isStepPreviewDetails=function(){return this.gameSetupStateService.isStepPreviewDetails()},c.prototype.isValidLegs=function(){return this.gameSetupService.isValidLegs()},c.prototype.isValidBets=function(){return this.gameSetupService.isValidBets()},c.prototype.hasError=function(){return!this.isValidLegs()||!this.isValidBets()},c.prototype.goNext=function(){var e=this.gameSetupStateService.getCurrentStep();!this.isStepGenerateRungs()||this.gameSetupService.hasRungs()&&!this.gameSetupService.isLegModified()?e>=a.GameSetupStateService.STEP_PREVIEW_DETAILS||this.gameSetupStateService.goNextStep(e+1):this.proceedConfirmPopover.open()},c.prototype.goBack=function(){var e=this.gameSetupStateService.getCurrentStep();e<=a.GameSetupStateService.STEP_LEG||this.gameSetupStateService.goNextStep(e-1)},c.prototype.getCurrentStep=function(){return this.gameSetupStateService.getCurrentStep()},c.prototype.isLegModified=function(){return this.gameSetupService.isLegModified()},c.prototype.randomize=function(){this.gameSetupService.draw(),this.gameSetupService.randomizeLegs()},c.prototype.isDebugMode=function(){return this.gameSetupService.isDebugMode()},c.prototype.getAccountId=function(){return this.accountId},c.prototype.hasAccountId=function(){return!(0,i.isUndefined)(this.getAccountId())},c.prototype.getHashKey=function(){return this.hashKey},c.prototype.hasHashKey=function(){return!(0,i.isUndefined)(this.hashKey)},c.prototype.closeSavePopover=function(){var e=this.saveConfirmPopover;e&&e.close()},c.prototype.openSavePopover=function(){var e=this.saveConfirmPopover;e&&e.open()},c.prototype.hasDescription=function(){return this.gameSetupService.hasDescription()},c.prototype.save=function(){this.closeSavePopover(),!this.hasAccountId()||this.hasDescription()?this.onSaved.emit(void 0):this.openSavePopover()},c.prototype.isLoading=function(){return this.gameSetupStateService.isLoading()},r.__decorate([(0,o.ViewChild)("proceedConfirmPopover",{static:!1}),r.__metadata("design:type",p.NgbPopover)],c.prototype,"proceedConfirmPopover",void 0),r.__decorate([(0,o.ViewChild)("saveConfirmPopover",{static:!1}),r.__metadata("design:type",p.NgbPopover)],c.prototype,"saveConfirmPopover",void 0),r.__decorate([(0,o.Input)(),r.__metadata("design:type",Number)],c.prototype,"accountId",void 0),r.__decorate([(0,o.Input)(),r.__metadata("design:type",String)],c.prototype,"hashKey",void 0),r.__decorate([(0,o.Output)(),r.__metadata("design:type",o.EventEmitter)],c.prototype,"onSaved",void 0),c=r.__decorate([(0,o.Component)({selector:"app-game-setup",template:n(792),styles:[n(793)]}),r.__metadata("design:paramtypes",[a.GameSetupStateService,s.GameSetupService])],c));function c(e,t){this.gameSetupStateService=e,this.gameSetupService=t,this.onSaved=new o.EventEmitter}t.GameSetupComponent=u},792:function(e,t){e.exports='<div class="d-flex flex-column h-100">\r\n    <h4 class="mb-3 p-0">\r\n        <span [ngClass]="{ \'d-none\': !isStepLeg() }">1. Enter Legs:</span>\r\n        <span [ngClass]="{ \'d-none\': !isStepBet() }">2. Enter Bets:</span>\r\n        <span\r\n            [ngClass]="{ \'d-none\': !isStepGenerateRungs() }"\r\n            class="align-middle"\r\n        >\r\n            <span class="mr-2">3. Randomize Entries: </span>\r\n            <span (click)="randomize()" class="btn btn-app btn-sm rounded-0">\r\n                <span class="fas fa-pencil-alt mr-2"></span>\r\n                <span>Randomize</span>\r\n            </span>\r\n        </span>\r\n        <span [ngClass]="{ \'d-none\': !isStepPreviewDetails() }"\r\n            >4. Preview Details:</span\r\n        >\r\n    </h4>\r\n\r\n    <div class="p-2 h-100">\r\n        <app-game-setup-leg\r\n            [ngClass]="{ \'d-none\': !isStepLeg() }"\r\n        ></app-game-setup-leg>\r\n        <app-game-setup-bet\r\n            [ngClass]="{ \'d-none\': !isStepBet() }"\r\n        ></app-game-setup-bet>\r\n        <app-game-setup-rung\r\n            [ngClass]="{ \'d-none\': !isStepGenerateRungs() }"\r\n        ></app-game-setup-rung>\r\n        <app-game-setup-preview-details\r\n            [ngClass]="{ \'d-none\': !isStepPreviewDetails() }"\r\n        ></app-game-setup-preview-details>\r\n        <div\r\n            class="form-group bg-light text-right mt-2 mb-0 fixed-bottom py-2 setup-action"\r\n        >\r\n            <div class="container text-center">\r\n                <button\r\n                    *ngIf="getCurrentStep() > 0"\r\n                    (click)="goBack()"\r\n                    type="button"\r\n                    class="btn btn-app px-3 mx-2 rounded-0"\r\n                >\r\n                    Back\r\n                </button>\r\n                <button\r\n                    *ngIf="getCurrentStep() <= 2"\r\n                    (click)="goNext()"\r\n                    type="button"\r\n                    class="btn btn-app px-3 rounded-0"\r\n                    triggers="manual"\r\n                    #proceedConfirmPopover="ngbPopover"\r\n                    [ngbPopover]="proceedConfirmPopupContent"\r\n                    container="body"\r\n                    [disabled]="getTotalLegs() < 2"\r\n                >\r\n                    Next\r\n                </button>\r\n                <button\r\n                    *ngIf="isStepPreviewDetails()"\r\n                    (click)="save()"\r\n                    type="button"\r\n                    class="btn btn-app px-3 rounded-0"\r\n                    triggers="manual"\r\n                    #saveConfirmPopover="ngbPopover"\r\n                    [ngbPopover]="proceedConfirmPopupContent"\r\n                    [disabled]="isLoading()"\r\n                >\r\n                    <ng-template [ngIf]="!isLoading()">\r\n                        <span>Save</span>\r\n                    </ng-template>\r\n                    <ng-template [ngIf]="isLoading()">\r\n                        <span\r\n                            class="spinner-border spinner-border-sm mr-2"\r\n                        ></span>\r\n                        <span>Loading...</span>\r\n                    </ng-template>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <app-game-setup-debug *ngIf="isDebugMode()"></app-game-setup-debug>\r\n    </div>\r\n</div>\r\n\r\n<ng-template #proceedConfirmPopupContent>\r\n    <span *ngIf="isStepGenerateRungs()"\r\n        >Please click the "Randomize" button to proceed</span\r\n    >\r\n    <span *ngIf="isStepPreviewDetails()">Please enter description</span>\r\n</ng-template>\r\n'},793:function(e,t,n){var r=n(794);e.exports="string"==typeof r?r:r.toString()},794:function(e,t,n){(t=n(100)(!1)).push([e.i,".btn{outline:none}.setup-action{box-shadow:0px 0px 4px #ccc}",""]),e.exports=t},795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupLegComponent=void 0;var r=n(1),i=n(0),o=n(777),s=(a.prototype.ngOnInit=function(){this.initialize(),this.initializeDefaultLegs()},a.prototype.initialize=function(){},a.prototype.initializeDefaultLegs=function(){this.gameSetupService.hasLegs()||(this.addLeg(),this.addLeg())},a.prototype.reset=function(){this.currentName="",this.currentColor="",this.currentNameInput&&this.currentNameInput.nativeElement.focus()},a.prototype.getList=function(){return this.gameSetupService.getLegs()},a.prototype.getTotalLegs=function(){return this.gameSetupService.getTotalLegs()},a.prototype.addLeg=function(){var e=this;this.gameSetupService.addLeg({name:this.getCurrentName(),color:this.getCurrentColor()}).subscribe(function(){e.reset()},function(e){console.error("ERROR",e)})},a.prototype.removeLeg=function(e){this.gameSetupService.removeLeg(e).subscribe()},a.prototype.getCurrentColor=function(){return this.currentColor},a.prototype.getCurrentName=function(){return this.currentName},a.prototype.getAttributeName=function(e,t){return e+"-"+t},a.prototype.isDebugMode=function(){return this.gameSetupService.isDebugMode()},a.prototype.getDataToString=function(){return this.gameSetupService.getDataToString()},r.__decorate([(0,i.ViewChild)("currentNameInput",{static:!1}),r.__metadata("design:type",i.ElementRef)],a.prototype,"currentNameInput",void 0),a=r.__decorate([(0,i.Component)({selector:"app-game-setup-leg",template:n(796),styles:[n(797)]}),r.__metadata("design:paramtypes",[o.GameSetupService])],a));function a(e){this.gameSetupService=e,this.currentColor="",this.currentName="",this.gameSetupService.setDebugMode(!1)}t.GameSetupLegComponent=s},796:function(e,t){e.exports='<div\r\n    *ngFor="let currentItem of getList(); let i = index"\r\n    class="input-group mb-2"\r\n>\r\n    <div class="input-group-prepend">\r\n        <span class="input-group-text bg-light rounded-0">Leg {{ i + 1 }}</span>\r\n    </div>\r\n    <input\r\n        type="text"\r\n        [(ngModel)]="currentItem.name"\r\n        class="form-control"\r\n        placeholder="Enter player\'s name here"\r\n    />\r\n    <input\r\n        type="text"\r\n        [(ngModel)]="currentItem.color"\r\n        class="form-control col-2 pick-color"\r\n        [cpDisableInput]="true"\r\n        [cpPosition]="\'left\'"\r\n        [cpPositionRelativeToArrow]="true"\r\n        [(colorPicker)]="currentItem.color"\r\n        [style.background]="currentItem?.color"\r\n        readonly="readonly"\r\n        placeholder="Line color"\r\n    />\r\n    <div class="input-group-append">\r\n        <button\r\n            class="btn btn-app rounded-0"\r\n            type="button"\r\n            placement="top"\r\n            ngbTooltip="Remove player"\r\n            (click)="removeLeg(currentItem)"\r\n        >\r\n            <span class="fas fa-minus"></span>\r\n        </button>\r\n    </div>\r\n</div>\r\n<form>\r\n    <div class="input-group mb-2">\r\n        <input\r\n            type="text"\r\n            [(ngModel)]="currentName"\r\n            class="form-control rounded-0"\r\n            name="current-name"\r\n            placeholder="Name here"\r\n            #currentNameInput\r\n        />\r\n        <input\r\n            type="text"\r\n            class="form-control col-2 pick-color"\r\n            name="current-color"\r\n            [(ngModel)]="currentColor"\r\n            [(colorPicker)]="currentColor"\r\n            [style.background]="currentColor"\r\n        />\r\n        <div class="input-group-append">\r\n            <button\r\n                class="btn btn-app rounded-0"\r\n                type="submit"\r\n                placement="top"\r\n                ngbTooltip="Add Player"\r\n                (click)="addLeg()"\r\n            >\r\n                <span class="fas fa-plus"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>\r\n'},797:function(e,t,n){var r=n(798);e.exports="string"==typeof r?r:r.toString()},798:function(e,t,n){(t=n(100)(!1)).push([e.i,"",""]),e.exports=t},799:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupBetComponent=void 0;var r=n(1),i=n(0),o=n(777),s=(a.prototype.getList=function(){return this.gameSetupService.getLegs()},a.prototype.reset=function(){},a=r.__decorate([(0,i.Component)({selector:"app-game-setup-bet",template:n(800),styles:[n(801)]}),r.__metadata("design:paramtypes",[o.GameSetupService])],a));function a(e){this.gameSetupService=e}t.GameSetupBetComponent=s},800:function(e,t){e.exports='<div *ngFor="let currentItem of getList()"\r\n     class="input-group mb-1">\r\n    <input type="text"\r\n        [(ngModel)]="currentItem.bet"\r\n        class="form-control rounded-0"\r\n        placeholder="">\r\n    <div class="input-group-append">\r\n        <app-ideogram-picker \r\n            [(ideogramId)]="currentItem.ideogramId"></app-ideogram-picker>\r\n    </div>\r\n</div>\r\n'},801:function(e,t,n){var r=n(802);e.exports="string"==typeof r?r:r.toString()},802:function(e,t,n){(t=n(100)(!1)).push([e.i,"",""]),e.exports=t},803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupRungComponent=void 0;var r=n(1),i=n(0),o=n(777),s=(a.prototype.getLegs=function(){return this.gameSetupService.getLegs()},a.prototype.getRungs=function(){return this.gameSetupService.limitRungs(this.gameSetupService.getGeneratedRungs(),10)},a.prototype.hasRungs=function(){return this.gameSetupService.hasRungs()},a.prototype.isLegModified=function(){return this.gameSetupService.isLegModified()},a=r.__decorate([(0,i.Component)({selector:"app-game-setup-rung",template:n(804),styles:[n(805)]}),r.__metadata("design:paramtypes",[o.GameSetupService])],a));function a(e){this.gameSetupService=e}t.GameSetupRungComponent=s},804:function(e,t){e.exports='<ng-template [ngIf]="!hasRungs() || isLegModified()">\r\n    <div class="d-flex justify-content-center align-items-center h-100 px-4 px-lg-5 ">\r\n        <div class="text-center w-100 py-3">\r\n            <span *ngIf="!hasRungs()" class="draw-text">Please click the "Randomize" button to randomize legs and bets.</span>\r\n            <span *ngIf="hasRungs() && isLegModified()" class="draw-text">Legs are updated. Please click the "Randomize" button to randomize legs and bets.</span>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template [ngIf]="hasRungs() && !isLegModified()"> \r\n    <div class="h-100 px-4 px-lg-5">\r\n        <app-rung-generator\r\n            [showRung]="false"\r\n            [legs]="getLegs()"\r\n            [rungs]="getRungs()"></app-rung-generator>\r\n    </div>\r\n</ng-template>\r\n'},805:function(e,t,n){var r=n(806);e.exports="string"==typeof r?r:r.toString()},806:function(e,t,n){(t=n(100)(!1)).push([e.i,".draw-text{font-size:1.1em}",""]),e.exports=t},807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupPreviewDetailsComponent=void 0;var r=n(1),i=n(0),o=n(52),s=n(777),a=(p.prototype.getAccountId=function(){return this.accountId},p.prototype.hasAccountId=function(){return!(0,o.isUndefined)(this.getAccountId())},p.prototype.onKeyUp=function(){this.gameSetupService.setDescription(this.description)},p.prototype.getList=function(){return this.gameSetupService.getLegs()},p.prototype.hasError=function(){return this.gameSetupService.hasError()},p.prototype.getDescription=function(){return this.gameSetupService.getDescription()},r.__decorate([(0,i.Input)(),r.__metadata("design:type",Number)],p.prototype,"accountId",void 0),p=r.__decorate([(0,i.Component)({selector:"app-game-setup-preview-details",template:n(808),styles:[n(809)]}),r.__metadata("design:paramtypes",[s.GameSetupService])],p));function p(e){this.gameSetupService=e,this.description=""}t.GameSetupPreviewDetailsComponent=a},808:function(e,t){e.exports='<div>\r\n    <div *ngIf="hasAccountId()" class="input-group mb-3">\r\n        <input\r\n            type="text"\r\n            class="form-control rounded-0 input-default"\r\n            [(ngModel)]="description"\r\n            (keyup)="onKeyUp($event)"\r\n            [value]="getDescription()"\r\n            placeholder="Enter Description"\r\n        />\r\n    </div>\r\n\r\n    <div class="panel-wrap">\r\n        <div class="card mb-2 rounded-0 border-0 mx-1">\r\n            <div class="card-header bg-white px-2 p-1 rounded-0">\r\n                <span class="font-weight-bold">\r\n                    <i class="fas fa-table mr-2"></i>\r\n                    <span>Legs</span>\r\n                </span>\r\n            </div>\r\n            <div class="card-body p-3 rounded-0">\r\n                <div class="d-flex flex-column">\r\n                    <ng-container *ngFor="let leg of getList(); let i = index">\r\n                        <div\r\n                            class="border border-left-0 border-right-0 border-bottom-0 d-flex w-100 justify-content-between"\r\n                            [class.border-top-0]="i == 0"\r\n                        >\r\n                            <div>\r\n                                <i\r\n                                    class="fas fa-grip-lines-vertical mr-2 font-weight-bold"\r\n                                    [style.color]="leg?.color"\r\n                                ></i>\r\n                                <span>{{ leg?.name ? leg.name : "-" }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="card mb-2 rounded-0 border-0 mx-1">\r\n            <div class="card-header bg-white px-2 p-1 rounded-0">\r\n                <span class="font-weight-bold">\r\n                    <i class="fas fa-table mr-2"></i>\r\n                    <span>Bets</span>\r\n                </span>\r\n            </div>\r\n            <div class="card-body p-3 rounded-0">\r\n                <div class="d-flex flex-column">\r\n                    <ng-container *ngFor="let leg of getList(); let i = index">\r\n                        <div\r\n                            class="border border-left-0 border-right-0 border-bottom-0 d-flex w-100 justify-content-between"\r\n                            [class.border-top-0]="i == 0"\r\n                        >\r\n                            <div>\r\n                                <app-ideogram-display\r\n                                    [ideogramId]="leg?.ideogramId"\r\n                                ></app-ideogram-display>\r\n                                <span>{{ leg?.bet ? leg.bet : "-" }}</span>\r\n                            </div>\r\n                            <div></div>\r\n                        </div>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- <div class="card mb-3 rounded-0 border-0">\r\n        <div class="card-header px-2 p-1 rounded-0">\r\n            <span>\r\n                <i class="fas fa-table mr-2"></i>\r\n                <span>Legs</span>\r\n            </span>\r\n        </div>\r\n        <div class="card-body p-3 rounded-0">\r\n            <div class="d-flex flex-column">\r\n                <ng-container  *ngFor="let leg of getList(); let i = index">\r\n                    <div class="border border-left-0 border-right-0 border-bottom-0 d-flex w-100 justify-content-between"\r\n                        [class.border-top-0]="i == 0">\r\n                        <div>\r\n                            <i class="fas fa-grip-lines-vertical mr-2 font-weight-bold" [style.color]="leg?.color"></i>\r\n                            <span>{{leg?.name ? leg.name : "-"}}</span>\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="card mb-2 rounded-0 border-0">\r\n        <div class="card-header px-2 p-1 rounded-0">\r\n            <span>\r\n                <i class="fas fa-table mr-2"></i>\r\n                <span>Bets</span>\r\n            </span>\r\n        </div>\r\n        <div class="card-body p-3 rounded-0">\r\n            <div class="d-flex flex-column">\r\n                <ng-container  *ngFor="let leg of getList(); let i = index">\r\n                    <div class="border border-left-0 border-right-0 border-bottom-0 d-flex w-100 justify-content-between"\r\n                        [class.border-top-0]="i == 0">\r\n                        <div>\r\n                            <i class="fas fa-award mr-2 text-warning"></i>\r\n                            <span>{{leg?.bet ? leg.bet : "-"}}</span>\r\n                        </div>\r\n                        <div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div> --\x3e\r\n    \x3c!-- <div class="form-check">\r\n        <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">\r\n        <label class="form-check-label" for="defaultCheck1">\r\n            Display results immediately\r\n        </label>\r\n      </div>\r\n    <div class="form-check">\r\n        <input class="form-check-input" type="checkbox" value="" id="defaultCheck2">\r\n        <label class="form-check-label" for="defaultCheck2">\r\n            Display Emoji\r\n        </label>\r\n    </div> --\x3e\r\n</div>\r\n'},809:function(e,t,n){var r=n(810);e.exports="string"==typeof r?r:r.toString()},810:function(e,t,n){(t=n(100)(!1)).push([e.i,".pick-color[readonly]{background:#fff;cursor:pointer}.card{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1);width:50%}@media(max-width: 576px){.card{width:100%}}.panel-wrap{display:flex;flex-direction:row;justify-content:center}@media(max-width: 576px){.panel-wrap{flex-direction:column;flex-wrap:wrap}}",""]),e.exports=t},812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthGuardService=void 0;var r=n(1),i=n(0),o=n(101),s=n(44),a=n(143),p=(u.prototype.canActivate=function(){return this.identityService.hasIdentity()?(0,s.of)(!0):(this.router.navigate([this.identityService.getLogoutRedirect()]),(0,s.of)(!1))},u=r.__decorate([(0,i.Injectable)({providedIn:"root"}),r.__metadata("design:paramtypes",[a.IdentityService,o.Router])],u));function u(e,t){this.identityService=e,this.router=t}t.AuthGuardService=p},814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetupViewComponent=void 0;var r=n(1),o=n(52),i=n(0),s=n(101),a=n(778),p=n(777),u=n(143),c=(d.prototype.ngOnInit=function(){this.initializeSubscribers()},d.prototype.initializeSubscribers=function(){var t=this;this.route.params.subscribe(function(e){t.hashKey=(0,o.get)(t.route.snapshot.params,"hashKey"),t.reset()})},d.prototype.reset=function(){this.hashKey||this.gameSetupService.reset()},d.prototype.getHashKey=function(){return this.hashKey},d.prototype.isStepGenerateRungs=function(){return this.gameSetupStateService.isStepGenerateRungs()},d.prototype.isStepPreviewDetails=function(){return this.gameSetupStateService.isStepPreviewDetails()},d.prototype.getClass=function(){return this.isStepGenerateRungs()?"col-lg-12":this.isStepPreviewDetails()?"col-lg-10 offset-lg-1":"col-lg-6 offset-lg-3"},d.prototype.onSaved=function(){this.router.navigate(["/play/list"])},d.prototype.getAccountId=function(){return this.identityService.getAccountId()},d=r.__decorate([(0,i.Component)({selector:"app-setup-view",template:n(989),styles:[n(990)]}),r.__metadata("design:paramtypes",[a.GameSetupStateService,p.GameSetupService,u.IdentityService,s.ActivatedRoute,s.Router])],d));function d(e,t,n,r,i){this.gameSetupStateService=e,this.gameSetupService=t,this.identityService=n,this.route=r,this.router=i,this.hashKey=(0,o.get)(this.route.snapshot.params,"hashKey")}t.SetupViewComponent=c},988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetupViewRouteModule=void 0;var r=n(1),i=n(0),o=n(101),s=n(814),a=n(812),p=[{path:"",redirectTo:"new",pathMatch:"full"},{path:"new",component:s.SetupViewComponent},{path:"edit/:hashKey",component:s.SetupViewComponent,canActivate:[a.AuthGuardService]}],u=c=r.__decorate([(0,i.NgModule)({imports:[o.RouterModule.forChild(p)]})],c);function c(){}t.SetupViewRouteModule=u},989:function(e,t){e.exports='<div class="container h-100">\r\n  <div class="row h-100">\r\n    <div class="pt-3 col-sm-12 mt-2 pb-5 mb-5"\r\n        [ngClass]="getClass()">\r\n      <app-game-setup\r\n          [hashKey]="getHashKey()"\r\n          [accountId]="getAccountId()"\r\n          (onSaved)="onSaved($event)"></app-game-setup>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},990:function(e,t,n){var r=n(991);e.exports="string"==typeof r?r:r.toString()},991:function(e,t,n){(t=n(100)(!1)).push([e.i,".pick-color[readonly]{background:#fff;cursor:pointer}",""]),e.exports=t}}]);