(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1e3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RungViewerAppModule=void 0;var r=n(1),o=n(0),i=n(53),s=n(101),a=n(113),p=n(6),u=n(782),c=n(318),g=n(1001),d=n(168),l=n(1007),m=n(813),f=n(781),v=h=r.__decorate([(0,o.NgModule)({imports:[a.NgbModule,i.FormsModule,p.CommonModule,s.RouterModule,u.RungGeneratorModule,d.LoadingModule,c.TokenListViewerModule,g.BuyWallModule,f.IdeogramPickerModule],declarations:[l.RungViewerAppComponent],exports:[l.RungViewerAppComponent],providers:[m.RungViewerAppService]})],h);function h(){}t.RungViewerAppModule=v},1001:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuyWallModule=void 0;var r=n(1),o=n(0),i=n(53),s=n(6),a=n(113),p=n(1002),u=n(1006),c=g=r.__decorate([(0,o.NgModule)({imports:[a.NgbModule,i.FormsModule,s.CommonModule],declarations:[p.BuyWallComponent],exports:[p.BuyWallComponent],providers:[u.BuyWallService]})],g);function g(){}t.BuyWallModule=c},1002:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuyWallComponent=void 0;var r=n(1),o=n(0),i=n(101),s=n(113),a=(p.prototype.buyToken=function(){this.router.navigate(["/purchase"]),this.modalService.dismissAll()},p=r.__decorate([(0,o.Component)({selector:"app-buy-wall",template:n(1003),styles:[n(1004)]}),r.__metadata("design:paramtypes",[i.Router,s.NgbModal])],p));function p(e,t){this.router=e,this.modalService=t}t.BuyWallComponent=a},1003:function(e,t){e.exports='<div class="text-center">\r\n    <p>Sorry, you don\'t have tokens anymore.</p>\r\n    <span (click)="buyToken()" class="btn btn-app btn-danger text-white">Buy token?</span>\r\n</div>'},1004:function(e,t,n){var r=n(1005);e.exports="string"==typeof r?r:r.toString()},1005:function(e,t,n){(t=n(100)(!1)).push([e.i,"",""]),e.exports=t},1006:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuyWallService=void 0;var r=n(1),o=n(0),i=s=r.__decorate([(0,o.Injectable)(),r.__metadata("design:paramtypes",[])],s);function s(){}t.BuyWallService=i},1007:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RungViewerAppComponent=void 0;var r=n(1);n(1008);var o=n(52),a=n(0),i=n(101),s=n(113),p=n(253),u=n(213),c=n(816),g=n(813),d=n(45),l=n(779),m=(f.prototype.ngOnInit=function(){this.initialize()},f.prototype.ngOnDestroy=function(){this.rungViewerAppService.setPlaying(!1),this.rungViewerAppService.setCompleted(!1)},f.prototype.initialize=function(){var e=this;this.legs&&this.rungs?this.rungViewerAppService.initializeByRungs(this.legs,this.rungs).pipe((0,d.finalize)(function(){e.setInitialized(!0)})).subscribe():this.rungViewerAppService.getData(this.getHashKey()).pipe((0,d.finalize)(function(){e.setInitialized(!0)})).subscribe()},f.prototype.setInitialized=function(e){this.initialized=e},f.prototype.isInitialized=function(){return this.initialized},f.prototype.isStarting=function(){return this.rungViewerAppService.isStarting()},f.prototype.hasRungLegData=function(){return this.rungViewerAppService.hasRungLegData()},f.prototype.isEmpty=function(){return this.rungViewerAppService.isEmpty()},f.prototype.isUnvailable=function(){return this.rungViewerAppService.isUnvailable()},f.prototype.getRungLegData=function(){return this.rungViewerAppService.getRungLegData()},f.prototype.getRung=function(){return this.rungViewerAppService.getRung()},f.prototype.getRungId=function(){return this.rungViewerAppService.getRungId()},f.prototype.getRungNodes=function(){return this.rungViewerAppService.getRungNodes()},f.prototype.getLegs=function(){return this.rungViewerAppService.getLegs()},f.prototype.getFilteredLegs=function(){var e;return null===(e=this.getLegs())||void 0===e?void 0:e.filter(function(e){return(null==e?void 0:e.name)||(null==e?void 0:e.bet)})},f.prototype.hasAvailableLegs=function(){var e;return 0<(null===(e=this.getFilteredLegs())||void 0===e?void 0:e.length)},f.prototype.isStarted=function(){return this.rungViewerAppService.isStarted()},f.prototype.isCompleted=function(){return this.rungViewerAppService.isCompleted()},f.prototype.getHashKey=function(){return this.hashKey},f.prototype.getAccountId=function(){return this.accountId},f.prototype.shouldShowRung=function(){return this.showRung},f.prototype.hasAccountId=function(){return!(0,o.isUndefined)(this.accountId)},f.prototype.isPlaying=function(){return this.rungViewerAppService.isPlaying()},f.prototype.goBack=function(){this.onBack.emit(void 0)},f.prototype.openResult=function(){this.modalService.open(this.gameResultContent,{centered:!0})},f.prototype.openTokenListViewer=function(){this.modalService.open(this.tokenListViewerContent,{centered:!0})},f.prototype.openBuyWall=function(){this.modalService.open(this.buyWallContent,{centered:!0,size:"xs"})},f.prototype.onSelectToken=function(e){this.currentToken=e},f.prototype.getCurrentToken=function(){return this.currentToken},f.prototype.getCurrentTokenId=function(){return(0,o.get)(this.getCurrentToken(),"tokenId")},f.prototype.completed=function(){this.onCompleted.emit(),this.rungViewerAppService.setPlaying(!1),this.rungViewerAppService.setCompleted(!0),this.hasAvailableLegs()&&this.openResult()},f.prototype.onPlay=function(){this.play()},f.prototype.play=function(){this.rungGeneratorService.play(),this.rungViewerAppService.setPlaying(!0),this.rungViewerAppService.setCompleted(!1)},r.__decorate([(0,a.ViewChild)("tokenListViewerContent",{static:!1}),r.__metadata("design:type",s.NgbModal)],f.prototype,"tokenListViewerContent",void 0),r.__decorate([(0,a.ViewChild)("buyWallContent",{static:!1}),r.__metadata("design:type",s.NgbModal)],f.prototype,"buyWallContent",void 0),r.__decorate([(0,a.ViewChild)("gameResultContent",{static:!1}),r.__metadata("design:type",s.NgbModal)],f.prototype,"gameResultContent",void 0),r.__decorate([(0,a.Input)(),r.__metadata("design:type",Number)],f.prototype,"rungId",void 0),r.__decorate([(0,a.Input)(),r.__metadata("design:type",String)],f.prototype,"hashKey",void 0),r.__decorate([(0,a.Input)(),r.__metadata("design:type",Number)],f.prototype,"accountId",void 0),r.__decorate([(0,a.Input)(),r.__metadata("design:type",Array)],f.prototype,"legs",void 0),r.__decorate([(0,a.Input)(),r.__metadata("design:type",Array)],f.prototype,"rungs",void 0),r.__decorate([(0,a.Output)(),r.__metadata("design:type",Object)],f.prototype,"onBack",void 0),r.__decorate([(0,a.Output)(),r.__metadata("design:type",a.EventEmitter)],f.prototype,"onCompleted",void 0),f=r.__decorate([(0,a.Component)({selector:"app-rung-viewer-app",template:n(1009),styles:[n(1010)]}),r.__metadata("design:paramtypes",[g.RungViewerAppService,c.ProgressRungModelService,p.ContentRungModelService,u.ContentTokenStateService,l.RungGeneratorService,i.Router,s.NgbModal])],f));function f(e,t,n,r,o,i,s){this.rungViewerAppService=e,this.progressRungModelService=t,this.contentRungModelService=n,this.contentTokenStateService=r,this.rungGeneratorService=o,this.router=i,this.modalService=s,this.legs=[],this.onBack=new a.EventEmitter,this.onCompleted=new a.EventEmitter,this.showRung=!0,this.initialized=!1}t.RungViewerAppComponent=m},1008:function(e,t,n){},1009:function(e,t){e.exports='<div\r\n    *ngIf="!isPlaying() && !isCompleted()"\r\n    class="play-overlay d-flex justify-content-center align-items-center"\r\n>\r\n    <div class="play-overlay-bg"></div>\r\n    <i (click)="play()" class="fas fa-play-circle btn-play"></i>\r\n</div>\r\n<div\r\n    [class.menu-prominent]="!isPlaying() && !isCompleted()"\r\n    [class.completed]="isCompleted() && hasAvailableLegs()"\r\n    class="play-menu text-center d-flex justify-content-center align-items-center flex-row"\r\n>\r\n    <span (click)="goBack()" class="go-back-button rounded-circle mr-2">\r\n        <i class="fas fa-arrow-alt-circle-left"></i>\r\n    </span>\r\n    <button\r\n        *ngIf="isCompleted() && hasAvailableLegs()"\r\n        (click)="openResult()"\r\n        class="btn btn-sm mr-2 border bg-white"\r\n    >\r\n        Result\r\n    </button>\r\n    <span\r\n        *ngIf="false"\r\n        class="icon-wrapper rounded-circle d-flex justify-content-center"\r\n        [ngbPopover]="playMenuContent"\r\n        [popoverClass]="\'play-menu-tooltip\'"\r\n        placement="right"\r\n        container="body"\r\n    >\r\n        <i class="fa fa-ellipsis-v"></i>\r\n    </span>\r\n</div>\r\n\r\n<div class="d-flex flex-column justify-contdent-center h-100 w-100 pt-3">\r\n    <ng-template [ngIf]="isInitialized() && hasRungLegData()">\r\n        <app-rung-generator\r\n            [showRung]="isPlaying() || isCompleted()"\r\n            [legs]="getLegs()"\r\n            [rungs]="getRungNodes()"\r\n            (onCompleted)="completed()"\r\n        ></app-rung-generator>\r\n    </ng-template>\r\n\r\n    <ng-template [ngIf]="isInitialized() && isEmpty()">\r\n        <div\r\n            class="d-flex flex-column justify-content-center align-items-center w-100 h-100"\r\n        >\r\n            <span class="mr-2">This game is no longer available.</span>\r\n            <ng-template [ngIf]="hasAccountId()">\r\n                <a routerLink="/play/list">Go back</a>\r\n            </ng-template>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <ng-template [ngIf]="isInitialized() && isUnvailable()">\r\n        <div\r\n            class="d-flex flex-column justify-content-center align-items-center w-100 h-100"\r\n        >\r\n            <span>Failed to generate data. Please try again later.</span>\r\n        </div>\r\n    </ng-template>\r\n    <ng-container [ngTemplateOutlet]="loadingMessage"></ng-container>\r\n</div>\r\n\r\n<ng-template #gameResultContent let-modal>\r\n    <div class="modal-header">\r\n        <h4 class="modal-title" id="modal-basic-title">Game Results!</h4>\r\n        <i (click)="modal.dismiss(\'Cross click\')" class="fas fa-times"></i>\r\n    </div>\r\n    <div class="modal-body pt-0 p-2">\r\n        <ul class="list-group list-group-flush">\r\n            <li\r\n                *ngFor="let leg of getLegs()"\r\n                class="list-group-item d-flex justify-content-between font-weight-bold result-list"\r\n            >\r\n                <span\r\n                    [ngStyle]="{ color: leg?.color }"\r\n                    class="col text-center"\r\n                    >{{ leg?.name || "N/A" }}</span\r\n                >\r\n                <span\r\n                    ><i\r\n                        [ngStyle]="{ color: leg?.color }"\r\n                        class="fas fa-arrow-right"\r\n                    ></i\r\n                ></span>\r\n                <span [ngStyle]="{ color: leg?.color }" class="col text-center">\r\n                    <app-ideogram-display\r\n                        [ideogramId]="leg?.finalIdeogramId"\r\n                    ></app-ideogram-display>\r\n                    {{ leg?.finalBet || "N/A" }}\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button class="btn btn-sm border" (click)="modal.close()">Close</button>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #playMenuContent>\r\n    <div class="play-menu-content">\r\n        <span (click)="onPlay()" class="play-button rounded-circle p-2 mx-1">\r\n            <i class="fas fa-play"></i>\r\n        </span>\r\n        <ng-template [ngIf]="!isStarted()">\r\n            <span\r\n                routerLink="/setup/edit/{{ getHashKey() }}"\r\n                class="result-button rounded-circle p-2 mx-1"\r\n            >\r\n                <i class="fas fa-pen-square"></i>\r\n            </span>\r\n        </ng-template>\r\n        <ng-template [ngIf]="isCompleted()">\r\n            <span\r\n                (click)="openResult()"\r\n                class="result-button rounded-circle p-2 mx-1"\r\n            >\r\n                <i class="fas fa-table"></i>\r\n            </span>\r\n        </ng-template>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #tokenListViewerContent>\r\n    <div class="modal-header py-3 border-0 token-list-viewer-header">\r\n        <h5 class="mb-0 py-0">Select token you want to use:</h5>\r\n    </div>\r\n    <div class="modal-body px-1">\r\n        <div class="p-1 mb-2 mx-2 p-2 play-note">\r\n            <span class="font-weight-bold">Note:</span> Once you click the Play\r\n            button, you cannot not be able to edit this game anymore.\r\n        </div>\r\n        <app-token-list-viewer\r\n            [accountId]="getAccountId()"\r\n            [showSelector]="true"\r\n            (onSelect)="onSelectToken($event)"\r\n        ></app-token-list-viewer>\r\n    </div>\r\n    <div class="modal-footer d-flex justify-content-center">\r\n        <button (click)="play()" class="btn btn-app btn-play font-weight-bold">\r\n            <i class="fas fa-play"></i> Play\r\n        </button>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #buyWallContent>\r\n    <div class="modal-body pt-5 pb-4">\r\n        <app-buy-wall></app-buy-wall>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #loadingMessage>\r\n    <app-loading\r\n        *ngIf="!isInitialized()"\r\n        [text]="\'Building ladder..\'"\r\n        [type]="\'overlay\'"\r\n        [size]="\'lg\'"\r\n    ></app-loading>\r\n    <app-loading\r\n        *ngIf="isStarting()"\r\n        [text]="\'Starting game..\'"\r\n        [type]="\'overlay\'"\r\n        [size]="\'lg\'"\r\n    ></app-loading>\r\n</ng-template>\r\n'},1010:function(e,t,n){var r=n(1011);e.exports="string"==typeof r?r:r.toString()},1011:function(e,t,n){(t=n(100)(!1)).push([e.i,".play-menu{position:absolute;left:.3em;top:.7em;width:2.4em;padding:0em;z-index:2}.play-menu.completed{left:2.3em}.play-menu .icon-wrapper{cursor:pointer}.play-menu .icon-wrapper i{font-size:1.2em}.play-menu .play-wrapper{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1)}.play-menu .go-back-button{cursor:pointer;display:flex;justify-content:center}.play-menu .go-back-button i{font-size:1.2em}.play-menu.menu-prominent{z-index:99999}.play-menu.menu-prominent .go-back-button{color:#fff}.play-note{border:dashed 1px #ddd;font-size:.8em}.btn-play{color:#505763}.token-list-viewer-header{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1)}.play-overlay{position:absolute;left:0;top:0;z-index:999;width:100%;height:100%}.play-overlay .btn-play{font-size:6em;color:#fff;position:absolute;z-index:8;cursor:pointer}.play-overlay .play-overlay-bg{position:absolute;height:100%;width:100%;background-color:#000;opacity:.6}.result-list span{word-break:break-word}.fa-times{cursor:pointer}",""]),e.exports=t},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DemoViewModule=void 0;var r=n(1),o=n(0),i=n(53),s=n(6),a=n(113),p=n(992),u=n(784),c=n(817),g=n(815),d=n(1e3),l=m=r.__decorate([(0,o.NgModule)({imports:[s.CommonModule,a.NgbModule,i.FormsModule,u.GameSetupModule,p.DemoViewRouteModule,d.RungViewerAppModule],declarations:[c.DemoViewComponent,g.DemoStartViewComponent]})],m);function m(){}t.DemoViewModule=l},777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegChangesList=t.GameSetupService=void 0;var r,o=n(1),p=n(52),i=n(0),s=n(44),a=n(45),u=n(779),c=n(780),g=n(786),d=n(253),l=n(778),m=n(167),f=((r=v).prototype.initializeByHashKey=function(e){var r=this;this.contentRungModelService.getRungLegsDataByHashKey(e).subscribe(function(e){var t=(0,p.get)(e,"rung"),n=(0,p.get)(e,"legs");r.setLegs(n),r.setOriginalLegs(n),r.setRung(t),r.setRungNodes((0,p.get)(t,"rungNodes")),r.setDescription((0,p.get)(t,"description"))})},v.prototype.reset=function(){this.legs=[],this.rung=void 0,this.rungNodes=[],this.description=""},v.prototype.addLeg=function(e){return(0,p.has)(e,"name")?(e.id=(0,p.get)((0,p.last)(this.getLegs()),"id",0)+1,this.legs.push(e),this.legs=[].concat(this.legs),console.log("New player added:  Name: "+e.name+" Rung color: ",e.color+" Player List: ",this.getLegs()),(0,s.of)(this.legs)):(0,s.throwError)(r.ERROR_MISSING_REQUIRED_PARAMETERS)},v.prototype.removeLeg=function(t){var n=this;return(0,p.remove)(this.getLegs(),function(e){return n.hasRungId()?e.legRungMatchId==t.legRungMatchId:t.id==e.id}),this.legs=[].concat(this.legs),(0,s.of)(this.legs)},v.prototype.getTotalLegs=function(){return(0,p.size)(this.getLegs())},v.prototype.getLegs=function(){return this.legs},v.prototype.setLegs=function(e){this.legs=e},v.prototype.hasLegs=function(){return 0<this.getTotalLegs()},v.prototype.setOriginalLegs=function(e){this.originalLegs=(0,p.cloneDeep)(e)},v.prototype.getOriginalLegs=function(){return this.originalLegs},v.prototype.getLegsObservable=function(){return(0,s.of)(this.getLegs())},v.prototype.getDataToString=function(){return JSON.stringify(this.getLegs())},v.prototype.setDescription=function(e){this.description=(0,p.trim)(e)},v.prototype.getDescription=function(){return this.description},v.prototype.hasDescription=function(){return!(0,p.isUndefined)(this.getDescription())&&0<this.getDescription().length},v.prototype.setDebugMode=function(e){this.debug=e},v.prototype.getGeneratedRungs=function(){return this.rungNodes},v.prototype.limitRungs=function(e,n){return null==e?void 0:e.map(function(e){var t;return o.__assign(o.__assign({},e),{list:null===(t=null==e?void 0:e.list)||void 0===t?void 0:t.slice(0,n)})})},v.prototype.setRungNodes=function(e){this.rungNodes=e},v.prototype.setRung=function(e){this.rung=e},v.prototype.getRung=function(){return this.rung},v.prototype.hasRungs=function(){return 0<this.getTotalRungs()},v.prototype.hasRungId=function(){return(0,p.has)(this.getRung(),"rungId")},v.prototype.getRungId=function(){return(0,p.get)(this.getRung(),"rungId")},v.prototype.getTotalRungs=function(){return(0,p.size)(this.getGeneratedRungs())},v.prototype.isLegModified=function(){return this.hasLegs()&&this.getTotalLegs()!=this.getTotalRungs()},v.prototype.isValidLegs=function(){return 0==(0,p.filter)(this.getLegs(),function(e){return""==(0,p.trim)(e.name)}).length},v.prototype.isValidBets=function(){return 0==(0,p.filter)(this.getLegs(),function(e){return""==(0,p.trim)(e.bet)}).length},v.prototype.draw=function(){var t=this;this.rungGeneratorService.draw(this.getLegs(),22).subscribe(function(e){t.rungNodes=e})},v.prototype.getParsedLegs=function(){return(0,p.map)(this.getLegs(),function(e){return new c.Leg,(0,p.pick)(e,["name","bet","ideogramId","color","legRungMatchId"])})},v.prototype.save=function(r){var o=this;this.gameSetupStateService.setLoading(!0),this.error=void 0;var e=this.identityRungModelService.post(r);return this.hasRungId()&&(e=this.identityRungModelService.put(this.getRungId(),r)),e.pipe((0,a.flatMap)(function(e){var t=(0,p.get)(e,"rungId"),n={legs:o.getParsedLegs()};return o.hasRungId()?o.updateLegs(t,r):o.identityRungModelService.postLeg(t,n)}),(0,a.finalize)(function(){o.contentRungModelService.deleteCache(),o.gameSetupStateService.setLoading(!1)}),(0,a.catchError)(function(e){return o.setError(e),(0,s.throwError)(e)}))},v.prototype.getLegChangesList=function(){var s=this,e=new h,a=["name","bet","ideogramId","color"],t=(0,p.map)(this.getLegs(),"legRungMatchId");return e.deleted=(0,p.filter)(this.getOriginalLegs(),function(e){return!(0,p.includes)(t,e.legRungMatchId)}),e.modified=(0,p.reduce)(this.getLegs(),function(e,t,n){var r=(0,p.find)(s.getOriginalLegs(),function(e){return(0,p.has)(e,"legRungMatchId")&&t.legRungMatchId==e.legRungMatchId});if(!(0,p.isEmpty)(r)){var o=(0,p.pick)(r,a),i=(0,p.pick)(t,a);if(!(0,p.isEqual)(o,i))return e.push(t),e}return e},[]),e.added=(0,p.filter)(this.getLegs(),function(e){return!(0,p.has)(e,"legRungMatchId")}),e},v.prototype.updateLegs=function(e,t){var n=(0,p.get)(t,"accountId"),r=this.getLegChangesList(),o=[];if((0,p.isEmpty)(r.modified)||o.push(this.identityRungModelService.putLeg(e,{accountId:n,legs:r.modified})),!(0,p.isEmpty)(r.deleted)){var i=(0,p.map)(r.deleted,"legRungMatchId");o.push(this.identityRungModelService.removeLegs(e,{accountId:n,legRungMatchIds:i.join(",")}))}return(0,p.isEmpty)(r.added)||o.push(this.identityRungModelService.postLeg(e,{accountId:n,legs:r.added})),0<o.length?(0,s.forkJoin)(o):(0,s.of)(void 0)},v.prototype.randomizeLegs=function(){var r=(0,p.chain)(this.getLegs()).map(function(e){return(0,p.pick)(e,["name","color"])}).shuffle().value(),o=(0,p.chain)(this.getLegs()).map(function(e){return(0,p.pick)(e,["bet","ideogramId"])}).shuffle().value(),e=(0,p.map)(this.getLegs(),function(e,t){var n=(0,p.pick)(e,["id","legRungMatchId"]);return(0,p.assign)({},n,r[t],o[t])});this.legs=e},v.prototype.setError=function(e){this.error=new m.HttpErrorResponseState(e)},v.prototype.hasError=function(){return!(0,p.isUndefined)(this.error)},v.prototype.isDebugMode=function(){return this.debug},v.ERROR_MISSING_REQUIRED_PARAMETERS="MISSING_REQUIRED_PARAMETERS",v=r=o.__decorate([(0,i.Injectable)(),o.__metadata("design:paramtypes",[u.RungGeneratorService,d.ContentRungModelService,g.IdentityRungModelService,l.GameSetupStateService])],v));function v(e,t,n,r){this.rungGeneratorService=e,this.contentRungModelService=t,this.identityRungModelService=n,this.gameSetupStateService=r,this.debug=!1,this.legs=[],this.originalLegs=[],this.rungNodes=[],this.description=""}t.GameSetupService=f;var h=function(){};t.LegChangesList=h},778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupStateService=void 0;var r,o=n(1),i=n(0),s=((r=a).prototype.isStepLeg=function(){return this.currentStep===r.STEP_LEG},a.prototype.isStepBet=function(){return this.currentStep===r.STEP_BET},a.prototype.isStepGenerateRungs=function(){return this.currentStep===r.STEP_GENERATE_RUNGS},a.prototype.isStepPreviewDetails=function(){return this.currentStep===r.STEP_PREVIEW_DETAILS},a.prototype.goNextStep=function(e){this.currentStep=e},a.prototype.getCurrentStep=function(){return this.currentStep},a.prototype.gotoFirstStep=function(){this.goNextStep(r.STEP_LEG)},a.prototype.isLoading=function(){return this.loading},a.prototype.setLoading=function(e){this.loading=e},a.STEP_LEG=0,a.STEP_BET=1,a.STEP_GENERATE_RUNGS=2,a.STEP_PREVIEW_DETAILS=3,a=r=o.__decorate([(0,i.Injectable)(),o.__metadata("design:paramtypes",[])],a));function a(){this.loading=!1,this.currentStep=r.STEP_LEG}t.GameSetupStateService=s},784:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupModule=void 0;var r=n(1),o=n(0),i=n(6),s=n(53),a=n(113),p=n(783),u=n(781),c=n(777),g=n(778),d=n(787),l=n(791),m=n(795),f=n(799),v=n(803),h=n(807),y=n(782),S=b=r.__decorate([(0,o.NgModule)({imports:[a.NgbModule,i.CommonModule,s.FormsModule,p.ColorPickerModule,u.IdeogramPickerModule,y.RungGeneratorModule],declarations:[l.GameSetupComponent,m.GameSetupLegComponent,f.GameSetupBetComponent,v.GameSetupRungComponent,d.GameSetupDebugComponent,h.GameSetupPreviewDetailsComponent],exports:[l.GameSetupComponent,m.GameSetupLegComponent,f.GameSetupBetComponent,v.GameSetupRungComponent,d.GameSetupDebugComponent,h.GameSetupPreviewDetailsComponent],providers:[c.GameSetupService,g.GameSetupStateService]})],b);function b(){}t.GameSetupModule=S},786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteRungParams=t.DeleteRungLegParams=t.PutRungLegParams=t.PostRungLegParams=t.PutRungParams=t.PostRungParams=t.IdentityRungModelService=void 0;var r=n(1),o=n(0),i=n(114),s=(a.prototype.post=function(e){return this.connectionFactoryService.service("identity").setPath("rung").post({},e)},a.prototype.put=function(e,t){return this.connectionFactoryService.service("identity").setPath("rung/".concat(e)).put({},t)},a.prototype.postLeg=function(e,t){return this.connectionFactoryService.service("identity").setPath("rung/".concat(e,"/leg")).post({},t)},a.prototype.remove=function(e,t){return void 0===t&&(t={}),this.connectionFactoryService.service("identity").setPath("rung/".concat(e)).delete(t,void 0)},a.prototype.putLeg=function(e,t){return this.connectionFactoryService.service("identity").setPath("rung/".concat(e,"/leg")).put({},t)},a.prototype.removeLegs=function(e,t){return this.connectionFactoryService.service("identity").setPath("rung/".concat(e,"/leg")).delete(t,void 0)},a.prototype.getList=function(e,t){return void 0===t&&(t={}),this.connectionFactoryService.service("identity").setPath("rung/".concat(e,"/leg")).get({},t)},a=r.__decorate([(0,o.Injectable)({providedIn:"root"}),r.__metadata("design:paramtypes",[i.ConnectionFactoryService])],a));function a(e){this.connectionFactoryService=e}t.IdentityRungModelService=s;function p(){}t.PostRungParams=p;var u,c=(u=p,r.__extends(g,u),g);function g(){return null!==u&&u.apply(this,arguments)||this}t.PutRungParams=c;function d(){}t.PostRungLegParams=d;var l,m=(l=d,r.__extends(f,l),f);function f(){return null!==l&&l.apply(this,arguments)||this}t.PutRungLegParams=m;function v(){}t.DeleteRungLegParams=v;function h(){}t.DeleteRungParams=h},787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupDebugComponent=void 0;var r=n(1),o=n(0),i=n(777),s=(a.prototype.getTotalLegs=function(){return this.gameSetupService.getTotalLegs()},a.prototype.getDataToString=function(){return this.gameSetupService.getDataToString()},a=r.__decorate([(0,o.Component)({selector:"app-game-setup-debug",template:n(788),styles:[n(789)]}),r.__metadata("design:paramtypes",[i.GameSetupService])],a));function a(e){this.gameSetupService=e}t.GameSetupDebugComponent=s},788:function(e,t){e.exports='<div class="debug-screen border-dark bg-dark">\r\n  <code class="d-block p-0 mb-2 text-white">\r\n    Total: {{getTotalLegs()}}\r\n  </code>\r\n  <code class="d-block p-0 mb-2 text-white">\r\n    <span>Debug data:</span>\r\n    <p>\r\n      {{getDataToString()}}\r\n    </p>\r\n  </code>\r\n</div>\r\n'},789:function(e,t,n){var r=n(790);e.exports="string"==typeof r?r:r.toString()},790:function(e,t,n){(t=n(100)(!1)).push([e.i,".debug-screen{padding:.5em;font-size:.78em;color:#333 !important}",""]),e.exports=t},791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupComponent=void 0;var r=n(1),o=n(52),i=n(0),s=n(777),a=n(778),p=n(113),u=(c.prototype.ngOnInit=function(){this.gameSetupService.setDebugMode(!1),this.initializeByHashKey()},c.prototype.ngOnDestroy=function(){this.gameSetupStateService.gotoFirstStep(),this.gameSetupService.setDescription(void 0),this.gameSetupService.setError(void 0)},c.prototype.initializeByHashKey=function(){this.hasHashKey()&&this.gameSetupService.initializeByHashKey(this.getHashKey())},c.prototype.getTotalLegs=function(){return this.gameSetupService.getTotalLegs()},c.prototype.isStepLeg=function(){return this.gameSetupStateService.isStepLeg()},c.prototype.isStepBet=function(){return this.gameSetupStateService.isStepBet()},c.prototype.isStepGenerateRungs=function(){return this.gameSetupStateService.isStepGenerateRungs()},c.prototype.isStepPreviewDetails=function(){return this.gameSetupStateService.isStepPreviewDetails()},c.prototype.isValidLegs=function(){return this.gameSetupService.isValidLegs()},c.prototype.isValidBets=function(){return this.gameSetupService.isValidBets()},c.prototype.hasError=function(){return!this.isValidLegs()||!this.isValidBets()},c.prototype.goNext=function(){var e=this.gameSetupStateService.getCurrentStep();!this.isStepGenerateRungs()||this.gameSetupService.hasRungs()&&!this.gameSetupService.isLegModified()?e>=a.GameSetupStateService.STEP_PREVIEW_DETAILS||this.gameSetupStateService.goNextStep(e+1):this.proceedConfirmPopover.open()},c.prototype.goBack=function(){var e=this.gameSetupStateService.getCurrentStep();e<=a.GameSetupStateService.STEP_LEG||this.gameSetupStateService.goNextStep(e-1)},c.prototype.getCurrentStep=function(){return this.gameSetupStateService.getCurrentStep()},c.prototype.isLegModified=function(){return this.gameSetupService.isLegModified()},c.prototype.randomize=function(){this.gameSetupService.draw(),this.gameSetupService.randomizeLegs()},c.prototype.isDebugMode=function(){return this.gameSetupService.isDebugMode()},c.prototype.getAccountId=function(){return this.accountId},c.prototype.hasAccountId=function(){return!(0,o.isUndefined)(this.getAccountId())},c.prototype.getHashKey=function(){return this.hashKey},c.prototype.hasHashKey=function(){return!(0,o.isUndefined)(this.hashKey)},c.prototype.closeSavePopover=function(){var e=this.saveConfirmPopover;e&&e.close()},c.prototype.openSavePopover=function(){var e=this.saveConfirmPopover;e&&e.open()},c.prototype.hasDescription=function(){return this.gameSetupService.hasDescription()},c.prototype.save=function(){this.closeSavePopover(),!this.hasAccountId()||this.hasDescription()?this.onSaved.emit(void 0):this.openSavePopover()},c.prototype.isLoading=function(){return this.gameSetupStateService.isLoading()},r.__decorate([(0,i.ViewChild)("proceedConfirmPopover",{static:!1}),r.__metadata("design:type",p.NgbPopover)],c.prototype,"proceedConfirmPopover",void 0),r.__decorate([(0,i.ViewChild)("saveConfirmPopover",{static:!1}),r.__metadata("design:type",p.NgbPopover)],c.prototype,"saveConfirmPopover",void 0),r.__decorate([(0,i.Input)(),r.__metadata("design:type",Number)],c.prototype,"accountId",void 0),r.__decorate([(0,i.Input)(),r.__metadata("design:type",String)],c.prototype,"hashKey",void 0),r.__decorate([(0,i.Output)(),r.__metadata("design:type",i.EventEmitter)],c.prototype,"onSaved",void 0),c=r.__decorate([(0,i.Component)({selector:"app-game-setup",template:n(792),styles:[n(793)]}),r.__metadata("design:paramtypes",[a.GameSetupStateService,s.GameSetupService])],c));function c(e,t){this.gameSetupStateService=e,this.gameSetupService=t,this.onSaved=new i.EventEmitter}t.GameSetupComponent=u},792:function(e,t){e.exports='<div class="d-flex flex-column h-100 pb-5">\r\n    <h4 class="mb-3 p-0">\r\n        <span [ngClass]="{ \'d-none\': !isStepLeg() }">1. Enter Legs:</span>\r\n        <span [ngClass]="{ \'d-none\': !isStepBet() }">2. Enter Bets:</span>\r\n        <span\r\n            [ngClass]="{ \'d-none\': !isStepGenerateRungs() }"\r\n            class="align-middle"\r\n        >\r\n            <span class="mr-2">3. Randomize Entries: </span>\r\n            <span (click)="randomize()" class="btn btn-app btn-sm rounded-0">\r\n                <span class="fas fa-pencil-alt mr-2"></span>\r\n                <span>Randomize</span>\r\n            </span>\r\n        </span>\r\n        <span [ngClass]="{ \'d-none\': !isStepPreviewDetails() }"\r\n            >4. Preview Details:</span\r\n        >\r\n    </h4>\r\n\r\n    <div class="p-2 h-100">\r\n        <app-game-setup-leg\r\n            [ngClass]="{ \'d-none\': !isStepLeg() }"\r\n        ></app-game-setup-leg>\r\n        <app-game-setup-bet\r\n            [ngClass]="{ \'d-none\': !isStepBet() }"\r\n        ></app-game-setup-bet>\r\n        <app-game-setup-rung\r\n            [ngClass]="{ \'d-none\': !isStepGenerateRungs() }"\r\n        ></app-game-setup-rung>\r\n        <app-game-setup-preview-details\r\n            [ngClass]="{ \'d-none\': !isStepPreviewDetails() }"\r\n        ></app-game-setup-preview-details>\r\n        <div\r\n            class="form-group bg-light text-right mt-2 mb-0 fixed-bottom py-2 setup-action"\r\n        >\r\n            <div class="container text-center">\r\n                <button\r\n                    *ngIf="getCurrentStep() > 0"\r\n                    (click)="goBack()"\r\n                    type="button"\r\n                    class="btn btn-app px-3 mx-2 rounded-0"\r\n                >\r\n                    Back\r\n                </button>\r\n                <button\r\n                    *ngIf="getCurrentStep() <= 2"\r\n                    (click)="goNext()"\r\n                    type="button"\r\n                    class="btn btn-app px-3 rounded-0"\r\n                    triggers="manual"\r\n                    #proceedConfirmPopover="ngbPopover"\r\n                    [ngbPopover]="proceedConfirmPopupContent"\r\n                    container="body"\r\n                    [disabled]="getTotalLegs() < 2"\r\n                >\r\n                    Next\r\n                </button>\r\n                <button\r\n                    *ngIf="isStepPreviewDetails()"\r\n                    (click)="save()"\r\n                    type="button"\r\n                    class="btn btn-app px-3 rounded-0"\r\n                    triggers="manual"\r\n                    placement="top-left"\r\n                    #saveConfirmPopover="ngbPopover"\r\n                    [ngbPopover]="proceedConfirmPopupContent"\r\n                    [disabled]="isLoading()"\r\n                >\r\n                    <ng-template [ngIf]="!isLoading()">\r\n                        <span>Save</span>\r\n                    </ng-template>\r\n                    <ng-template [ngIf]="isLoading()">\r\n                        <span\r\n                            class="spinner-border spinner-border-sm mr-2"\r\n                        ></span>\r\n                        <span>Loading...</span>\r\n                    </ng-template>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <app-game-setup-debug *ngIf="isDebugMode()"></app-game-setup-debug>\r\n    </div>\r\n</div>\r\n\r\n<ng-template #proceedConfirmPopupContent>\r\n    <span *ngIf="isStepGenerateRungs()"\r\n        >Please click the "Randomize" button to proceed</span\r\n    >\r\n    <span *ngIf="isStepPreviewDetails()">Please enter description</span>\r\n</ng-template>\r\n'},793:function(e,t,n){var r=n(794);e.exports="string"==typeof r?r:r.toString()},794:function(e,t,n){(t=n(100)(!1)).push([e.i,".btn{outline:none}.setup-action{box-shadow:0px 0px 4px #ccc}",""]),e.exports=t},795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupLegComponent=void 0;var r=n(1),o=n(0),i=n(777),s=(a.prototype.ngOnInit=function(){this.initialize(),this.initializeDefaultLegs()},a.prototype.initialize=function(){},a.prototype.initializeDefaultLegs=function(){this.gameSetupService.hasLegs()||(this.addLeg(),this.addLeg())},a.prototype.reset=function(){this.currentName="",this.currentColor="",this.currentNameInput&&this.currentNameInput.nativeElement.focus()},a.prototype.getList=function(){return this.gameSetupService.getLegs()},a.prototype.getTotalLegs=function(){return this.gameSetupService.getTotalLegs()},a.prototype.addLeg=function(){var e=this;this.gameSetupService.addLeg({name:this.getCurrentName(),color:this.getCurrentColor()}).subscribe(function(){e.reset()},function(e){console.error("ERROR",e)})},a.prototype.removeLeg=function(e){this.gameSetupService.removeLeg(e).subscribe()},a.prototype.getCurrentColor=function(){return this.currentColor},a.prototype.getCurrentName=function(){return this.currentName},a.prototype.getAttributeName=function(e,t){return e+"-"+t},a.prototype.isDebugMode=function(){return this.gameSetupService.isDebugMode()},a.prototype.getDataToString=function(){return this.gameSetupService.getDataToString()},r.__decorate([(0,o.ViewChild)("currentNameInput",{static:!1}),r.__metadata("design:type",o.ElementRef)],a.prototype,"currentNameInput",void 0),a=r.__decorate([(0,o.Component)({selector:"app-game-setup-leg",template:n(796),styles:[n(797)]}),r.__metadata("design:paramtypes",[i.GameSetupService])],a));function a(e){this.gameSetupService=e,this.currentColor="",this.currentName="",this.gameSetupService.setDebugMode(!1)}t.GameSetupLegComponent=s},796:function(e,t){e.exports='<div\r\n    *ngFor="let currentItem of getList(); let i = index"\r\n    class="input-group mb-2"\r\n>\r\n    <div class="input-group-prepend">\r\n        <span class="input-group-text bg-light rounded-0">Leg {{ i + 1 }}</span>\r\n    </div>\r\n    <input\r\n        type="text"\r\n        [(ngModel)]="currentItem.name"\r\n        class="form-control"\r\n        placeholder="Enter player\'s name here"\r\n    />\r\n    <input\r\n        type="text"\r\n        [(ngModel)]="currentItem.color"\r\n        class="form-control col-2 pick-color"\r\n        [cpDisableInput]="true"\r\n        [cpPosition]="\'left\'"\r\n        [cpPositionRelativeToArrow]="true"\r\n        [(colorPicker)]="currentItem.color"\r\n        [style.background]="currentItem?.color"\r\n        readonly="readonly"\r\n        placeholder="Line color"\r\n    />\r\n    <div class="input-group-append">\r\n        <button\r\n            class="btn btn-app rounded-0"\r\n            type="button"\r\n            placement="top"\r\n            ngbTooltip="Remove player"\r\n            (click)="removeLeg(currentItem)"\r\n        >\r\n            <span class="fas fa-minus"></span>\r\n        </button>\r\n    </div>\r\n</div>\r\n<form>\r\n    <div class="input-group mb-2">\r\n        <input\r\n            type="text"\r\n            [(ngModel)]="currentName"\r\n            class="form-control rounded-0"\r\n            name="current-name"\r\n            placeholder="Name here"\r\n            #currentNameInput\r\n        />\r\n        <input\r\n            type="text"\r\n            class="form-control col-2 pick-color"\r\n            name="current-color"\r\n            [(ngModel)]="currentColor"\r\n            [(colorPicker)]="currentColor"\r\n            [style.background]="currentColor"\r\n        />\r\n        <div class="input-group-append">\r\n            <button\r\n                class="btn btn-app rounded-0"\r\n                type="submit"\r\n                placement="top"\r\n                ngbTooltip="Add Player"\r\n                (click)="addLeg()"\r\n            >\r\n                <span class="fas fa-plus"></span>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>\r\n'},797:function(e,t,n){var r=n(798);e.exports="string"==typeof r?r:r.toString()},798:function(e,t,n){(t=n(100)(!1)).push([e.i,"",""]),e.exports=t},799:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupBetComponent=void 0;var r=n(1),o=n(0),i=n(777),s=(a.prototype.getList=function(){return this.gameSetupService.getLegs()},a.prototype.reset=function(){},a=r.__decorate([(0,o.Component)({selector:"app-game-setup-bet",template:n(800),styles:[n(801)]}),r.__metadata("design:paramtypes",[i.GameSetupService])],a));function a(e){this.gameSetupService=e}t.GameSetupBetComponent=s},800:function(e,t){e.exports='<div *ngFor="let currentItem of getList()"\r\n     class="input-group mb-1">\r\n    <input type="text"\r\n        [(ngModel)]="currentItem.bet"\r\n        class="form-control rounded-0"\r\n        placeholder="">\r\n    <div class="input-group-append">\r\n        <app-ideogram-picker \r\n            [(ideogramId)]="currentItem.ideogramId"></app-ideogram-picker>\r\n    </div>\r\n</div>\r\n'},801:function(e,t,n){var r=n(802);e.exports="string"==typeof r?r:r.toString()},802:function(e,t,n){(t=n(100)(!1)).push([e.i,"",""]),e.exports=t},803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupRungComponent=void 0;var r=n(1),o=n(0),i=n(777),s=(a.prototype.getLegs=function(){return this.gameSetupService.getLegs()},a.prototype.getRungs=function(){return this.gameSetupService.limitRungs(this.gameSetupService.getGeneratedRungs(),10)},a.prototype.hasRungs=function(){return this.gameSetupService.hasRungs()},a.prototype.isLegModified=function(){return this.gameSetupService.isLegModified()},a=r.__decorate([(0,o.Component)({selector:"app-game-setup-rung",template:n(804),styles:[n(805)]}),r.__metadata("design:paramtypes",[i.GameSetupService])],a));function a(e){this.gameSetupService=e}t.GameSetupRungComponent=s},804:function(e,t){e.exports='<ng-template [ngIf]="!hasRungs() || isLegModified()">\r\n    <div class="d-flex justify-content-center align-items-center h-100 px-4 px-lg-5 ">\r\n        <div class="text-center w-100 py-3">\r\n            <span *ngIf="!hasRungs()" class="draw-text">Please click the "Randomize" button to randomize legs and bets.</span>\r\n            <span *ngIf="hasRungs() && isLegModified()" class="draw-text">Legs are updated. Please click the "Randomize" button to randomize legs and bets.</span>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template [ngIf]="hasRungs() && !isLegModified()"> \r\n    <div class="h-100 px-4 px-lg-5">\r\n        <app-rung-generator\r\n            [showRung]="false"\r\n            [legs]="getLegs()"\r\n            [rungs]="getRungs()"></app-rung-generator>\r\n    </div>\r\n</ng-template>\r\n'},805:function(e,t,n){var r=n(806);e.exports="string"==typeof r?r:r.toString()},806:function(e,t,n){(t=n(100)(!1)).push([e.i,".draw-text{font-size:1.1em}",""]),e.exports=t},807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameSetupPreviewDetailsComponent=void 0;var r=n(1),o=n(0),i=n(52),s=n(777),a=(p.prototype.getAccountId=function(){return this.accountId},p.prototype.hasAccountId=function(){return!(0,i.isUndefined)(this.getAccountId())},p.prototype.onKeyUp=function(){this.gameSetupService.setDescription(this.description)},p.prototype.getList=function(){return this.gameSetupService.getLegs()},p.prototype.hasError=function(){return this.gameSetupService.hasError()},p.prototype.getDescription=function(){return this.gameSetupService.getDescription()},r.__decorate([(0,o.Input)(),r.__metadata("design:type",Number)],p.prototype,"accountId",void 0),p=r.__decorate([(0,o.Component)({selector:"app-game-setup-preview-details",template:n(808),styles:[n(809)]}),r.__metadata("design:paramtypes",[s.GameSetupService])],p));function p(e){this.gameSetupService=e,this.description=""}t.GameSetupPreviewDetailsComponent=a},808:function(e,t){e.exports='<div>\r\n    <div *ngIf="hasAccountId()" class="input-group mb-3">\r\n        <input\r\n            type="text"\r\n            class="form-control rounded-0 input-default"\r\n            [(ngModel)]="description"\r\n            (keyup)="onKeyUp($event)"\r\n            [value]="getDescription()"\r\n            placeholder="Enter Description"\r\n        />\r\n    </div>\r\n\r\n    <div class="panel-wrap">\r\n        <div class="card mb-2 rounded-0 border-0 mx-1">\r\n            <div class="card-header bg-white px-2 p-1 rounded-0">\r\n                <span class="font-weight-bold">\r\n                    <i class="fas fa-table mr-2"></i>\r\n                    <span>Legs</span>\r\n                </span>\r\n            </div>\r\n            <div class="card-body p-3 rounded-0">\r\n                <div class="d-flex flex-column">\r\n                    <ng-container *ngFor="let leg of getList(); let i = index">\r\n                        <div\r\n                            class="border border-left-0 border-right-0 border-bottom-0 d-flex w-100 justify-content-between"\r\n                            [class.border-top-0]="i == 0"\r\n                        >\r\n                            <div>\r\n                                <i\r\n                                    class="fas fa-grip-lines-vertical mr-2 font-weight-bold"\r\n                                    [style.color]="leg?.color"\r\n                                ></i>\r\n                                <span>{{ leg?.name ? leg.name : "-" }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="card mb-2 rounded-0 border-0 mx-1">\r\n            <div class="card-header bg-white px-2 p-1 rounded-0">\r\n                <span class="font-weight-bold">\r\n                    <i class="fas fa-table mr-2"></i>\r\n                    <span>Bets</span>\r\n                </span>\r\n            </div>\r\n            <div class="card-body p-3 rounded-0">\r\n                <div class="d-flex flex-column">\r\n                    <ng-container *ngFor="let leg of getList(); let i = index">\r\n                        <div\r\n                            class="border border-left-0 border-right-0 border-bottom-0 d-flex w-100 justify-content-between"\r\n                            [class.border-top-0]="i == 0"\r\n                        >\r\n                            <div>\r\n                                <app-ideogram-display\r\n                                    [ideogramId]="leg?.ideogramId"\r\n                                ></app-ideogram-display>\r\n                                <span>{{ leg?.bet ? leg.bet : "-" }}</span>\r\n                            </div>\r\n                            <div></div>\r\n                        </div>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- <div class="card mb-3 rounded-0 border-0">\r\n        <div class="card-header px-2 p-1 rounded-0">\r\n            <span>\r\n                <i class="fas fa-table mr-2"></i>\r\n                <span>Legs</span>\r\n            </span>\r\n        </div>\r\n        <div class="card-body p-3 rounded-0">\r\n            <div class="d-flex flex-column">\r\n                <ng-container  *ngFor="let leg of getList(); let i = index">\r\n                    <div class="border border-left-0 border-right-0 border-bottom-0 d-flex w-100 justify-content-between"\r\n                        [class.border-top-0]="i == 0">\r\n                        <div>\r\n                            <i class="fas fa-grip-lines-vertical mr-2 font-weight-bold" [style.color]="leg?.color"></i>\r\n                            <span>{{leg?.name ? leg.name : "-"}}</span>\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="card mb-2 rounded-0 border-0">\r\n        <div class="card-header px-2 p-1 rounded-0">\r\n            <span>\r\n                <i class="fas fa-table mr-2"></i>\r\n                <span>Bets</span>\r\n            </span>\r\n        </div>\r\n        <div class="card-body p-3 rounded-0">\r\n            <div class="d-flex flex-column">\r\n                <ng-container  *ngFor="let leg of getList(); let i = index">\r\n                    <div class="border border-left-0 border-right-0 border-bottom-0 d-flex w-100 justify-content-between"\r\n                        [class.border-top-0]="i == 0">\r\n                        <div>\r\n                            <i class="fas fa-award mr-2 text-warning"></i>\r\n                            <span>{{leg?.bet ? leg.bet : "-"}}</span>\r\n                        </div>\r\n                        <div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div> --\x3e\r\n    \x3c!-- <div class="form-check">\r\n        <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">\r\n        <label class="form-check-label" for="defaultCheck1">\r\n            Display results immediately\r\n        </label>\r\n      </div>\r\n    <div class="form-check">\r\n        <input class="form-check-input" type="checkbox" value="" id="defaultCheck2">\r\n        <label class="form-check-label" for="defaultCheck2">\r\n            Display Emoji\r\n        </label>\r\n    </div> --\x3e\r\n</div>\r\n'},809:function(e,t,n){var r=n(810);e.exports="string"==typeof r?r:r.toString()},810:function(e,t,n){(t=n(100)(!1)).push([e.i,".pick-color[readonly]{background:#fff;cursor:pointer}.card{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1);width:50%}@media(max-width: 576px){.card{width:100%}}.panel-wrap{display:flex;flex-direction:row;justify-content:center}@media(max-width: 576px){.panel-wrap{flex-direction:column;flex-wrap:wrap}}",""]),e.exports=t},813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RungViewerAppService=void 0;var r=n(1),o=n(52),i=n(0),s=n(44),a=n(45),p=n(253),u=n(816),c=n(779),g=n(316),d=n(993),l=n(167),m=(f.prototype.isInitialized=function(){return this.initialized},f.prototype.setInitialize=function(e){this.initialized=e},f.prototype.setStarting=function(e){this.starting=e},f.prototype.isStarting=function(){return this.starting},f.prototype.initializeByRungs=function(e,t){var n=this;return this.rungLegData=new g.RungLegData,this.rungLegData.rung=new g.Rung,this.rungLegData.rung.rungNodes=t,this.rungLegData.legs=e,(0,s.of)(void 0).pipe((0,a.finalize)(function(){n.setInitialize(!0),n.setPlaying(!1)}))},f.prototype.getData=function(e){var t=this;return this.setInitialize(!1),this.setError(void 0),this.setRungLegData(void 0),this.contentRungModelService.getRungLegsDataByHashKey(e).pipe((0,a.catchError)(function(e){return t.setError(e),(0,s.throwError)(e)}),(0,a.tap)(function(e){t.setRungLegData(e)}),(0,a.finalize)(function(){t.setInitialize(!0),t.setPlaying(t.isCompleted()||t.isStarted())}))},f.prototype.getRungLegData=function(){return this.rungLegData},f.prototype.setRungLegData=function(e){this.rungLegData=e},f.prototype.hasRungLegData=function(){return!(0,o.isUndefined)(this.rungLegData)},f.prototype.getRung=function(){return(0,o.get)(this.getRungLegData(),"rung")},f.prototype.getRungId=function(){return(0,o.get)(this.getRung(),"rungId")},f.prototype.getRungNodes=function(){return(0,o.get)(this.getRung(),"rungNodes")},f.prototype.getLegs=function(){return(0,o.get)(this.getRungLegData(),"legs",[])},f.prototype.getError=function(){return this.error},f.prototype.setError=function(e){this.error=new l.HttpErrorResponseState(e)},f.prototype.hasError=function(){return!(0,o.isUndefined)(this.error)},f.prototype.isEmpty=function(){return this.hasError()&&this.getError().isErrorNotFound()},f.prototype.isUnvailable=function(){return this.hasError()&&this.getError().isError5xx()},f.prototype.isStarted=function(){return(0,o.get)(this.getRung(),"completed")!=d.STATUS_TRUE&&(0,o.get)(this.getRung(),"started")==d.STATUS_TRUE},f.prototype.play=function(e,t){return this.rungGeneratorService.play(),(0,s.of)(void 0)},f.prototype.setPlaying=function(e){this.playing=e},f.prototype.isPlaying=function(){return this.playing},f.prototype.setCompleted=function(e){this.completed=e},f.prototype.isCompleted=function(){return this.completed},f.prototype.getErrorStatus=function(){return(0,o.get)(this.getError(),"status")},f=r.__decorate([(0,i.Injectable)(),r.__metadata("design:paramtypes",[p.ContentRungModelService,u.ProgressRungModelService,c.RungGeneratorService])],f));function f(e,t,n){this.contentRungModelService=e,this.progressRungModelService=t,this.rungGeneratorService=n,this.initialized=!1,this.starting=!1,this.playing=!1,this.completed=!1}t.RungViewerAppService=m},815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DemoStartViewComponent=void 0;var s,r=n(1),o=n(0),i=n(777),a=n(811),p=n(101),u=n(813),c=n(113),g=n(44),d=n(45),l=(s=a.SubscriptionAbstract,r.__extends(m,s),m.prototype.ngOnInit=function(){this.hasRungs()?this.initializeSubscribers():this.router.navigate(["/play"])},m.prototype.ngOnDestroy=function(){this.destroySubscriptions()},m.prototype.initializeSubscribers=function(){var e=this;history.pushState(null,null,location.href),(0,g.fromEvent)(window,"popstate").pipe((0,d.takeUntil)(this.getDestroyInterceptor())).subscribe(function(){e.back()})},m.prototype.getLegs=function(){return this.gameSetupService.getLegs()},m.prototype.hasLegs=function(){return this.gameSetupService.hasLegs()},m.prototype.hasRungs=function(){return this.gameSetupService.hasRungs()},m.prototype.getRungContainers=function(){return this.gameSetupService.getGeneratedRungs()},m.prototype.isPlaying=function(){return this.rungViewerAppService.isPlaying()},m.prototype.isCompleted=function(){return this.rungViewerAppService.isCompleted()},m.prototype.back=function(){if(!this.isCompleted())return this.isPlaying()?(history.pushState(null,null,location.href),void this.modalService.open(this.confirmExitContent,{centered:!0})):void this.router.navigate(["/play"]);this.exit()},m.prototype.exit=function(){(this.isPlaying()||this.isCompleted())&&this.gameSetupService.reset(),this.router.navigate(["/play"])},m.prototype.completed=function(){},r.__decorate([(0,o.ViewChild)("confirmExitContent",{static:!1}),r.__metadata("design:type",c.NgbModal)],m.prototype,"confirmExitContent",void 0),m=r.__decorate([(0,o.Component)({selector:"app-demo-start-view",template:n(994),styles:[n(995)]}),r.__metadata("design:paramtypes",[i.GameSetupService,u.RungViewerAppService,c.NgbModal,p.Router,p.ActivatedRoute])],m));function m(e,t,n,r,o){var i=s.call(this)||this;return i.gameSetupService=e,i.rungViewerAppService=t,i.modalService=n,i.router=r,i.route=o,i.played=!1,i}t.DemoStartViewComponent=l},816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostProgressRung=t.ProgressRungModelService=void 0;var r=n(1),o=n(0),i=n(114),s=(a.prototype.postStarted=function(e,t){return this.connectionFactoryService.service("progress").setPath("rung/".concat(e,"/start")).post({},t)},a.prototype.postCompleted=function(e,t){return this.connectionFactoryService.service("progress").setPath("rung/".concat(e,"/complete")).post({},t)},a=r.__decorate([(0,o.Injectable)({providedIn:"root"}),r.__metadata("design:paramtypes",[i.ConnectionFactoryService])],a));function a(e){this.connectionFactoryService=e}t.ProgressRungModelService=s;function p(){}t.PostProgressRung=p},817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DemoViewComponent=void 0;var r=n(1),o=n(0),i=n(777),s=n(101),a=(p.prototype.ngOnInit=function(){},p.prototype.isPlayed=function(){return this.played},p.prototype.onSaved=function(){this.router.navigate(["/play/start"])},p=r.__decorate([(0,o.Component)({selector:"app-demo-view",template:n(997),styles:[n(998)]}),r.__metadata("design:paramtypes",[i.GameSetupService,s.Router,s.ActivatedRoute])],p));function p(e,t,n){this.gameSetupService=e,this.router=t,this.route=n,this.played=!1}t.DemoViewComponent=a},992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DemoViewRouteModule=void 0;var r=n(1),o=n(0),i=n(101),s=n(815),a=[{path:"",component:n(817).DemoViewComponent},{path:"start",component:s.DemoStartViewComponent}],p=u=r.__decorate([(0,o.NgModule)({imports:[i.RouterModule.forChild(a)]})],u);function u(){}t.DemoViewRouteModule=p},993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_FALSE=t.STATUS_TRUE=void 0,t.STATUS_TRUE=1,t.STATUS_FALSE=0},994:function(e,t){e.exports='<div class="h-100 d-flex justify-content-centerr align-items-center demo-start">\r\n    <app-rung-viewer-app\r\n        [legs]="getLegs()"\r\n        [rungs]="getRungContainers()"\r\n        (onBack)="back()"\r\n        (onCompleted)="completed()"\r\n    ></app-rung-viewer-app>\r\n</div>\r\n\r\n<ng-template #confirmExitContent let-modal>\r\n    <div class="modal-header">\r\n        <h4 class="modal-title" id="modal-basic-title">Are you sure?</h4>\r\n        <i (click)="modal.dismiss(\'Cross click\')" class="fas fa-times"></i>\r\n    </div>\r\n    <div class="modal-bodypt-0 p-2">\r\n        <div class="mb-2 py-2 text-center">\r\n            Are you sure you want to exit the game?\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button (click)="exit(); modal.dismiss()" class="btn border px-3 mx-1">\r\n            Ok\r\n        </button>\r\n        <button (click)="modal.dismiss()" class="btn border mx-1">\r\n            Cancel\r\n        </button>\r\n    </div>\r\n</ng-template>\r\n'},995:function(e,t,n){var r=n(996);e.exports="string"==typeof r?r:r.toString()},996:function(e,t,n){(t=n(100)(!1)).push([e.i,".demo-start{background-image:linear-gradient(45deg, #f3f5f2 1.67%, #ffffff 1.67%, #ffffff 50%, #f3f5f2 50%, #f3f5f2 51.67%, #ffffff 51.67%, #ffffff 100%);background-size:42.43px 42.43px;overflow-x:auto}app-rung-viewer-app{display:flex;width:100%}",""]),e.exports=t},997:function(e,t){e.exports='<div class="container h-100">\r\n    <div class="row h-100">\r\n        <div class="pt-3 col-sm-12 mt-2 pb-5 mb-5">\r\n            <app-game-setup (onSaved)="onSaved()"></app-game-setup>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},998:function(e,t,n){var r=n(999);e.exports="string"==typeof r?r:r.toString()},999:function(e,t,n){(t=n(100)(!1)).push([e.i,"",""]),e.exports=t}}]);