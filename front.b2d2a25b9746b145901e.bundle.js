(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{114:function(t,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.BaseConnection=p.METHOD_DELETE=p.METHOD_PUT=p.METHOD_POST=p.METHOD_GET=p.ConnectionFactoryService=void 0;var n,o=e(1),i=e(711),r=e(0),l=e(52),a=e(192),d=e(308),h=e(44),g=e(45),s=((n=c).prototype.service=function(t){var e=i.SERVICE_URL[t];return new u(this.http,e,this.getAuthorizationAccessToken())},c.prototype.getAuthorizationAccessToken=function(){return this.cookieService.get(n.ACCESS_TOKEN_KEY)},c.ACCESS_TOKEN_KEY="accessToken",c.CACHE_LIFETIME={content:864e5,identity:864e5},c=n=o.__decorate([(0,r.Injectable)({providedIn:"root"}),o.__metadata("design:paramtypes",[d.HttpClient,a.CookieService])],c));function c(t,e){this.http=t,this.cookieService=e}p.ConnectionFactoryService=s,p.METHOD_GET="GET",p.METHOD_POST="POST",p.METHOD_PUT="PUT",p.METHOD_DELETE="DELETE";var u=(f.prototype.setPath=function(t){return this.path=t,this},f.prototype.getServiceUrl=function(){return"".concat(this.baseServiceUrl,"/").concat(this.path)},f.prototype.get=function(t,e,n,o,i){return this.request(p.METHOD_GET,this.getServiceUrl(),t,e,o,i)},f.prototype.post=function(t,e,n,o,i){return this.request(p.METHOD_POST,this.getServiceUrl(),t,e,o,i)},f.prototype.put=function(t,e,n,o,i){return this.request(p.METHOD_PUT,this.getServiceUrl(),t,e,o,i)},f.prototype.delete=function(t,e,n,o,i){return this.request(p.METHOD_DELETE,this.getServiceUrl(),t,e,o,i)},f.prototype.getAuthorizationAccessToken=function(){return this.authorizationAccessToken},f.prototype.hasAuthorizationtAccessToken=function(){return!(0,l.isEmpty)(this.authorizationAccessToken)},f.prototype.request=function(t,e,n,o,i,r){var a,s=this,c=new d.HttpHeaders;this.hasAuthorizationtAccessToken()&&(c=c.append("Authorization","Bearer ".concat(this.getAuthorizationAccessToken())));var u=(0,l.assign)({params:n,headers:c},r);switch(t){case p.METHOD_GET:a=this.http.get(e,u);break;case p.METHOD_POST:a=this.http.post(e,o,u);break;case p.METHOD_PUT:a=this.http.put(e,o,u);break;case p.METHOD_DELETE:a=this.http.delete(e,u);break;default:return(0,h.throwError)("Invalid HTTP Verb")}return a.pipe((0,g.catchError)(function(t){return s.handleError(t)}))},f.prototype.handleError=function(t){return(0,h.throwError)(t)},f);function f(t,e,n){this.http=t,this.baseServiceUrl=e,this.authorizationAccessToken=n,this.path=""}p.BaseConnection=u},143:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityService=void 0;var o,i=n(1),r=n(52),a=n(0),s=n(44),c=n(45),u=n(192),p=n(114),l=n(254),d=n(253),h=n(213),g=n(255),f=n(247),v=((o=m).prototype.initialize=function(){var t=this;return this.getAccount().pipe((0,c.finalize)(function(){t.publish(o.EVENT_IDENTITY_UPDATE,t.getIdentity())}))},m.prototype.getAccount=function(){var t=this;return this.cache.getCache({key:"getAccount"},function(){return t.getRawAccount()})},m.prototype.getRawAccount=function(){var e=this;return this.setInitialize(!1),this.identityAccountModelService.getAccount().pipe((0,c.finalize)(function(){console.log("Identity checked done."),e.setInitialize(!0)}),(0,c.catchError)(function(t){return e.cookieService.delete(p.ConnectionFactoryService.ACCESS_TOKEN_KEY),(0,s.of)(void 0)}),(0,c.map)(function(t){if(t)return e.setAccount(t),t}))},m.prototype.setAccount=function(t){this.account=t},m.prototype.getIdentity=function(){return this.account},m.prototype.getAccountId=function(){return(0,r.get)(this.getIdentity(),"accountId")},m.prototype.getFirstName=function(){return(0,r.get)(this.getIdentity(),"firstName")},m.prototype.getLastName=function(){return(0,r.get)(this.getIdentity(),"lastName")},m.prototype.hasIdentity=function(){return!(0,r.isUndefined)(this.account)},m.prototype.isAnonymous=function(){return!this.hasIdentity()},m.prototype.setInitialize=function(t){this.initialized=t},m.prototype.isInitialized=function(){return this.initialized},m.prototype.setLogoutRedirect=function(t){this.logoutRedirect=t},m.prototype.setCms=function(t){this.cms=t},m.prototype.isCms=function(){return this.cms},m.prototype.getLogoutRedirect=function(){return this.logoutRedirect},m.prototype.logout=function(){var t=this;return this.account=void 0,this.contentRungModelService.deleteCache(),this.contentTokenStateService.reset(),this.identityAccountModelService.logout().pipe((0,c.map)(function(t){return t}),(0,c.finalize)(function(){t.cookieService.delete("accessToken")}))},m.prototype.deleteCache=function(){this.cache.destroy()},m.prototype.getObservable=function(t){return this.emitter.getObservable(t)},m.prototype.publish=function(t,e){this.emitter.publish(t,e)},m.prototype.subscribe=function(t,e,n){return this.emitter.subscribe(t,e,n)},m.prototype.destroy=function(){this.emitter.destroy()},m.EVENT_IDENTITY_UPDATE="eventIdentityUpdate",m=o=i.__decorate([(0,a.Injectable)({providedIn:"root"}),i.__metadata("design:paramtypes",[p.ConnectionFactoryService,l.IdentityAccountModelService,h.ContentTokenStateService,d.ContentRungModelService,u.CookieService])],m));function m(t,e,n,o,i){this.ConnectionFactoryService=t,this.identityAccountModelService=e,this.contentTokenStateService=n,this.contentRungModelService=o,this.cookieService=i,this.cache=new f.MemoryCache,this.initialized=!1,this.cms=!1,this.emitter=new g.Emitter(g.Emitter.TYPE_REPLAY)}e.IdentityService=v},160:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationAppService=void 0;var o,i=n(1),r=n(0),a=((o=s).prototype.isAuthTypeLogin=function(){return this.authType==o.AUTH_TYPE_LOGIN},s.prototype.isAuthTypeRegister=function(){return this.authType==o.AUTH_TYPE_REGISTER},s.prototype.setAuthType=function(t){this.authType=t},s.prototype.setAuthTypeRegister=function(){this.setAuthType(o.AUTH_TYPE_REGISTER)},s.prototype.setAuthTypeLogin=function(){this.setAuthType(o.AUTH_TYPE_LOGIN)},s.prototype.setLoading=function(t){this.loading=t},s.prototype.isLoading=function(){return this.loading},s.AUTH_TYPE_REGISTER="register",s.AUTH_TYPE_LOGIN="login",s=o=i.__decorate([(0,r.Injectable)(),i.__metadata("design:paramtypes",[])],s));function s(){this.authType=o.AUTH_TYPE_LOGIN,this.loading=!1}e.AuthenticationAppService=a},167:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpErrorResponseState=void 0;var o=n(52),i=n(258),r=(a.prototype.getErrorInstance=function(){return this.error},a.prototype.getStatus=function(){return(0,o.get)(this.getErrorInstance(),"status")},a.prototype.isErrorNotFound=function(){return this.getStatus()==i.NOT_FOUND},a.prototype.isErrorMethodNotAllowed=function(){return this.getStatus()==i.METHOD_NOT_ALLOWED},a.prototype.isErrorForbidden=function(){return this.getStatus()==i.FORBIDDEN},a.prototype.isErrorUnauthorized=function(){return this.getStatus()==i.UNAUTHORIZED},a.prototype.isErrorInternalServer=function(){return this.getStatus()==i.INTERNAL_SERVER_ERROR},a.prototype.isError5xx=function(){return 500<=this.getStatus()},a.prototype.isError4xx=function(){return 400<=this.getStatus()&&!this.isError5xx()},a.prototype.getErrorList=function(){return(0,o.get)(this.getErrorInstance(),"error")},a);function a(t){this.error=t}e.HttpErrorResponseState=r},168:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingModule=void 0;var o=n(1),i=n(0),r=n(6),a=n(724),s=c=o.__decorate([(0,i.NgModule)({imports:[r.CommonModule],declarations:[a.LoadingComponent],exports:[a.LoadingComponent]})],c);function c(){}e.LoadingModule=s},212:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StorageCache=void 0;var o,i=n(1),s=n(44),r=n(247),a=n(712),c=n(310),u=n(715),p=n(45),l=(o=c.CacheAbstract,i.__extends(d,o),d.prototype.getObservableCache=function(t){return u.GlobalObservableCache.getCache(t,function(){return new r.MemoryCache})},d.prototype.getCache=function(o,i,r,t){var a=this;if(void 0===t&&(t=!1),t&&this.deleteCache(o),this.useMemoryCache)return this.memoryCache.getCache(o,i);var e=this.generateHash(o);return(0,s.from)(this.cache.getItem(e)).pipe((0,p.flatMap)(function(t){if(t&&!a.isExpired(t))return(0,s.of)(t.data);if(!i)return(0,s.of)(void 0);var e=a.observableCache.getCachedValue(o);if(e)return e;var n=i().pipe((0,p.map)(function(t){return a.setValue(o,t,r),a.observableCache.deleteCache(o),t}),(0,p.share)());return a.observableCache.setValue(o,n)||(0,s.of)(void 0)}))},d.prototype.isExpired=function(t){return!!t.expires&&t.expires<(new Date).getTime()},d.prototype.getCachePromise=function(t,e,n,o){return void 0===o&&(o=!1),this.getCache(t,e,n,o).toPromise()},d.prototype.setValue=function(t,e,n){if(this.useMemoryCache)return this.memoryCache.setValue(t,e);var o=this.generateHash(t);return this.cache.setItem(o,{data:e,expires:this.generateExpiration(n)}),e},d.prototype.deleteCache=function(t){if(this.useMemoryCache)return this.memoryCache.deleteCache(t);var e=this.generateHash(t);this.observableCache.deleteCache(t),this.cache.removeItem(e)},d.prototype.destroy=function(){if(this.useMemoryCache)return this.memoryCache.destroy();this.cache.clear()},d);function d(t){var e=o.call(this)||this;return e.memoryCache=new r.MemoryCache,e.useMemoryCache=!1,e.cache=new a.LocalForageGeneric(t),e.useMemoryCache=!e.cache.isSupported(),e.observableCache=e.getObservableCache(t),e}e.StorageCache=l},213:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenCount=e.ContentTokenStateService=void 0;var o=n(1),r=n(52),i=n(0),a=n(45),s=n(256),c=(u.prototype.initializeTokenList=function(t){var e=this;return this.tokens=void 0,this.setTokenListInitialize(!1),this.contentPurchaseTokenModelService.getTokenList(t).pipe((0,a.finalize)(function(){e.setTokenListInitialize(!0)}),(0,a.map)(function(t){return e.tokens=t,e.tokenCount=e.extractTokenCount(t),t}))},u.prototype.initializeTokenListHistoryCount=function(t){var e=this;return this.setTokenListHistoryCountInitialize(!1),this.contentPurchaseTokenModelService.geTokenListHistoryCount(t).pipe((0,a.finalize)(function(){e.setTokenListHistoryCountInitialize(!0)}),(0,a.map)(function(t){return e.tokenListHistoryCount=t}))},u.prototype.extractTokenCount=function(t){return(0,r.reduce)(t,function(t,e,n){var o=t.total+(0,r.get)(e,"quantity",0),i=t.used+(0,r.get)(e,"used",0);return t.total=o,t.used=o-i,t},new p)},u.prototype.reset=function(){this.tokens=[],this.tokenCount=void 0,this.tokenListHistoryCount=void 0,this.tokenListInitialized=!1,this.tokenListHistoryCountInitialized=!1,this.contentPurchaseTokenModelService.deleteCache()},u.prototype.getLatestToken=function(){return(0,r.chain)(this.getTokens()).filter(function(t){return 0<t.quantity}).head().value()},u.prototype.getLatestTokenId=function(){return(0,r.get)(this.getLatestToken(),"tokenId")},u.prototype.setTokenListInitialize=function(t){this.tokenListInitialized=t},u.prototype.isTokenListInitialized=function(){return this.tokenListInitialized},u.prototype.setTokenListHistoryCountInitialize=function(t){this.tokenListHistoryCountInitialized=t},u.prototype.isTokenListHistoryCountInitialized=function(){return this.tokenListHistoryCountInitialized},u.prototype.getTokenListHistoryCount=function(){return this.tokenListHistoryCount},u.prototype.getTokens=function(){return this.tokens},u.prototype.getTotalTokens=function(){return(0,r.get)(this.getTokenListHistoryCount(),"total",0)},u.prototype.getUsedTokens=function(){return(0,r.get)(this.getTokenListHistoryCount(),"used",0)},u.prototype.getTotalRemainingTokens=function(){return this.getTotalTokens()-this.getUsedTokens()},u.prototype.getTokenCount=function(){return this.tokenCount},u.prototype.hasAvailableTokens=function(){return 0<this.getTotalRemainingTokens()},u.prototype.hasToken=function(){return 0<this.getTotalTokens()},u=o.__decorate([(0,i.Injectable)({providedIn:"root"}),o.__metadata("design:paramtypes",[s.ContentPurchaseTokenModelService])],u));function u(t){this.contentPurchaseTokenModelService=t,this.tokenListInitialized=!1,this.tokenListHistoryCountInitialized=!1}e.ContentTokenStateService=c;var p=function(){this.total=0,this.used=0};e.TokenCount=p},247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryCache=void 0;var o,i=n(1),r=n(52),a=n(44),s=n(310),c=n(45),u=(o=s.CacheAbstract,i.__extends(p,o),p.prototype.getCache=function(e,t){var n=this,o=this.getCachedValue(e);return(0,r.isUndefined)(o)?t?t().pipe((0,c.map)(function(t){return n.setValue(e,t),t}),(0,c.share)()):(0,a.of)(void 0):(0,a.of)(o)},p.prototype.getCachePromise=function(t,e){return this.getCache(t,e).toPromise()},p.prototype.getCachedValue=function(t){var e=this.generateHash(t);return this.cacheExists(t,e)?this.cache[e]:void 0},p.prototype.cacheExists=function(t,e){var n=e||this.generateHash(t);return(0,r.has)(this.cache,n)},p.prototype.setValue=function(t,e){var n=this.generateHash(t);return this.cache[n]=e},p.prototype.deleteCache=function(t){var e=this.generateHash(t);this.cacheExists(t,e)&&delete this.cache[e]},p.prototype.toList=function(){return(0,r.isEmpty)(this.cache)?[]:(0,r.reduce)(this.cache,function(t,e){return e&&t.push(e),t},[])},p.prototype.getLength=function(){return(0,r.size)(this.cache)},p.prototype.destroy=function(){this.cache={}},p);function p(){var t=o.call(this)||this;return t.cache={},t}e.MemoryCache=u},248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationAdapterService=void 0;var o,i=n(1),r=n(52),a=n(45),s=n(0),c=n(192),u=n(114),p=n(311),l=n(312),d=n(313),h=((o=g).prototype.getAdapter=function(t){switch(t){case o.TYPE_EMAIL:return this.emailAuthenticationService;case o.TYPE_GOOGLE:return this.googleAuthenticationService;case o.TYPE_FACEBOOK:return this.facebookAuthenticationService;default:return this.emailAuthenticationService}},g.prototype.login=function(t,e){var n=this;return this.getAdapter(t).login(e).pipe((0,a.map)(function(t){return n.cookieService.set(u.ConnectionFactoryService.ACCESS_TOKEN_KEY,(0,r.get)(t,u.ConnectionFactoryService.ACCESS_TOKEN_KEY)),t}))},g.prototype.register=function(t,e){return this.getAdapter(t).register(e)},g.TYPE_EMAIL="email",g.TYPE_GOOGLE="google",g.TYPE_FACEBOOK="facebook",g=o=i.__decorate([(0,s.Injectable)(),i.__metadata("design:paramtypes",[p.EmailAuthenticationService,l.GoogleAuthenticationService,d.FacebookAuthenticationService,c.CookieService])],g));function g(t,e,n,o){this.emailAuthenticationService=t,this.googleAuthenticationService=e,this.facebookAuthenticationService=n,this.cookieService=o}e.AuthenticationAdapterService=h},249:function(t,e,n){var o=n(731);t.exports="string"==typeof o?o:o.toString()},253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetRungAccountCountParams=e.GetRungAccountParams=e.PostRungLegParams=e.PostRungParams=e.ContentRungModelService=void 0;var r=n(1),a=n(52),o=n(0),i=n(44),s=n(45),c=n(316),u=n(114),p=n(212),l=(d.prototype.getById=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=u.ConnectionFactoryService.CACHE_LIFETIME.content);var i={rungId:t};return this.rungByHashKeyCache.getCache(i,function(){return o.getRawById(t)},n,e)},d.prototype.getRawById=function(t){return this.connectionFactoryService.service("content").setPath("rung/".concat(t)).get({})},d.prototype.getByHashKey=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=u.ConnectionFactoryService.CACHE_LIFETIME.content);var i={hashKey:t};return this.rungByHashKeyCache.getCache(i,function(){return o.getRawByHashKey(t)},n,e)},d.prototype.getRawByHashKey=function(t){return this.connectionFactoryService.service("content").setPath("rung/hash/".concat(t)).get({})},d.prototype.getLegRungMatch=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=u.ConnectionFactoryService.CACHE_LIFETIME.content);var i={rungId:t};return this.rungLegRungMatchCache.getCache(i,function(){return o.getRawLegRungMatch(t)},n,e)},d.prototype.getRawLegRungMatch=function(t){return this.connectionFactoryService.service("content").setPath("rung/".concat(t,"/leg")).get({})},d.prototype.getRungAccountList=function(t,e,n,o){var i=this;void 0===n&&(n=!1),void 0===o&&(o=u.ConnectionFactoryService.CACHE_LIFETIME.content);var r=(0,a.assign)({},{account:t,key:"rungAccountListCache"},e);return this.rungAccountCache.getCache(r,function(){return i.getRawRungAccountList(t,e)},o,n)},d.prototype.getRawRungAccountList=function(t,e){return this.connectionFactoryService.service("content").setPath("rung/account/".concat(t)).get(e)},d.prototype.getRungAccountListCount=function(t,e,n,o){var i=this;void 0===n&&(n=!1),void 0===o&&(o=u.ConnectionFactoryService.CACHE_LIFETIME.content);var r=(0,a.assign)({},{account:t,key:"rungAccountListCountCache"},e);return this.rungAccountListCountCache.getCache(r,function(){return i.getRawRungAccountListCount(t,e)},o,n)},d.prototype.getRawRungAccountListCount=function(t,e){return this.connectionFactoryService.service("content").setPath("rung/account/".concat(t,"/count")).get(e)},d.prototype.getRungLegsDataById=function(t){var e=this.getById(t),n=this.getLegRungMatch(t);return(0,i.forkJoin)([e,n]).pipe((0,s.map)(function(t){var e=new c.RungLegData,n=r.__read(t,2),o=n[0],i=n[1];return e.rung=o,e.legs=i,e}))},d.prototype.getRungLegsDataByHashKey=function(t){var e=this,n=new c.RungLegData;return this.getByHashKey(t).pipe((0,s.flatMap)(function(t){return n.rung=t,e.getLegRungMatch(t.rungId)}),(0,s.map)(function(t){return n.legs=t,n}))},d.prototype.deleteCache=function(){this.rungCache.destroy(),this.rungAccountCache.destroy(),this.rungAccountListCountCache.destroy(),this.rungLegRungMatchCache.destroy(),this.rungByHashKeyCache.destroy()},d=r.__decorate([(0,o.Injectable)({providedIn:"root"}),r.__metadata("design:paramtypes",[u.ConnectionFactoryService])],d));function d(t){this.connectionFactoryService=t,this.rungCache=new p.StorageCache("ContentRungModelService"),this.rungAccountCache=new p.StorageCache("ContentRungModelService"),this.rungAccountListCountCache=new p.StorageCache("ContentRungModelService"),this.rungLegRungMatchCache=new p.StorageCache("ContentRungModelService"),this.rungByHashKeyCache=new p.StorageCache("ContentRungModelService")}e.ContentRungModelService=l;function h(){}e.PostRungParams=h;function g(){}e.PostRungLegParams=g;function f(){}e.GetRungAccountParams=f;function v(){}e.GetRungAccountCountParams=v},254:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PutChangePassword=e.PostAccountLogin=e.PutAccount=e.PostAccount=e.GetAccountList=e.IdentityAccountModelService=void 0;var o=n(1),i=n(0),r=n(212),a=n(114),s=n(716),c=(u.prototype.postAccount=function(t){return this.connectionFactoryService.service("identity").setPath("account").post(void 0,t)},u.prototype.putAccount=function(t,e){return this.connectionFactoryService.service("identity").setPath("account/".concat(t)).put(void 0,e)},u.prototype.postAccountLogin=function(t){return this.connectionFactoryService.service("identity").setPath("account/login").post(void 0,t)},u.prototype.getAccount=function(){return this.connectionFactoryService.service("identity").setPath("account/me").get({})},u.prototype.getAccountList=function(t,e,n){var o=this;return void 0===e&&(e=!1),void 0===n&&(n=a.ConnectionFactoryService.CACHE_LIFETIME.content),this.accountListCache.getCache({key:"accountListCache"},function(){return o.getRawAccountList(t)},n,e)},u.prototype.getRawAccountList=function(t){return this.connectionFactoryService.service("identity").setPath("account").get(t)},u.prototype.putChangePassword=function(t,e){return this.connectionFactoryService.service("identity").setPath("account/changePassword/".concat(t)).put(void 0,e)},u.prototype.logout=function(){return this.connectionFactoryService.service("identity").setPath("account/logout").post({})},u=o.__decorate([(0,i.Injectable)({providedIn:"root"}),o.__metadata("design:paramtypes",[a.ConnectionFactoryService])],u));function u(t){this.connectionFactoryService=t,this.accountListCache=new r.StorageCache("IdentityAccountModelService")}e.IdentityAccountModelService=c;function p(){}e.GetAccountList=p;var l,d=(l=s.Account,o.__extends(h,l),h);function h(){return null!==l&&l.apply(this,arguments)||this}e.PostAccount=d;var g,f=(g=s.Account,o.__extends(v,g),v);function v(){return null!==g&&g.apply(this,arguments)||this}e.PutAccount=f;var m,y=(m=d,o.__extends(A,m),A);function A(){return null!==m&&m.apply(this,arguments)||this}e.PostAccountLogin=y;function E(){}e.PutChangePassword=E},255:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=void 0;var o=n(52),i=n(44),r=(a.prototype.publish=function(t,e){this.getObservable(t).next(e)},a.prototype.error=function(t,e){this.getObservable(t).error(e)},a.prototype.subscribe=function(t,e,n){return this.getObservable(t).subscribe(function(t){e(t)},function(t){n(t)})},a.prototype.getObservable=function(t){return this.observables[t]||(this.observables[t]=this.generateSubject()),this.observables[t]},a.prototype.generateSubject=function(){switch(this.type){case a.TYPE_BEHAVIOR:return new i.BehaviorSubject(void 0);case a.TYPE_REPLAY:return new i.ReplaySubject(this.replayLength);default:return new i.Subject}},a.prototype.destroy=function(){(0,o.map)(this.observables,function(t){t.unsubscribe()}),this.observables={}},a.TYPE_EMITTER="emitter",a.TYPE_REPLAY="replay",a.TYPE_BEHAVIOR="behavior",a);function a(t,e){void 0===t&&(t=a.TYPE_EMITTER),void 0===e&&(e=1),this.type=t,this.replayLength=e,this.observables={}}e.Emitter=r},256:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetTokenListHistoryCountParams=e.GetTokenListHistoryParams=e.GetTokenListParams=e.ContentPurchaseTokenModelService=void 0;var o=n(1),r=n(52),i=n(0),a=n(114),s=n(212),c=(u.prototype.getTokenList=function(t,e,n){var o=this;return void 0===e&&(e=!1),void 0===n&&(n=a.ConnectionFactoryService.CACHE_LIFETIME.content),this.tokenListCache.getCache(t,function(){return o.getRawTokenList(t)},n,e)},u.prototype.getRawTokenList=function(t){return this.connectionFactoryService.service("content").setPath("purchase/token/list").get(t)},u.prototype.geTokenListHistoryCount=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=a.ConnectionFactoryService.CACHE_LIFETIME.content);var i=(0,r.assign)({},{key:"listHistoryCount"},t);return this.tokenListHistoryCountCache.getCache(i,function(){return o.getRawTokenListHistoryCount(t)},n,e)},u.prototype.getRawTokenListHistoryCount=function(t){return this.connectionFactoryService.service("content").setPath("purchase/token/list/history/count").get(t)},u.prototype.getTokenListHistory=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=a.ConnectionFactoryService.CACHE_LIFETIME.content);var i=(0,r.assign)({},{key:"listHistory"},t);return this.tokenListHistory.getCache(i,function(){return o.getRawTokenListHistory(t)},n,e)},u.prototype.getRawTokenListHistory=function(t){return this.connectionFactoryService.service("content").setPath("purchase/token/list/history").get(t)},u.prototype.deleteCache=function(){this.tokenListCache.destroy(),this.tokenListHistory.destroy(),this.tokenListHistoryCountCache.destroy()},u=o.__decorate([(0,i.Injectable)({providedIn:"root"}),o.__metadata("design:paramtypes",[a.ConnectionFactoryService])],u));function u(t){this.connectionFactoryService=t,this.tokenListCache=new s.StorageCache("ContentPurchaseTokenModelService"),this.tokenListHistory=new s.StorageCache("ContentPurchaseTokenModelService"),this.tokenListHistoryCountCache=new s.StorageCache("ContentPurchaseTokenModelService")}e.ContentPurchaseTokenModelService=c;function p(){}e.GetTokenListParams=p;var l,d=(l=p,o.__extends(h,l),h);function h(){return null!==l&&l.apply(this,arguments)||this}e.GetTokenListHistoryParams=d;var g,f=(g=p,o.__extends(v,g),v);function v(){return null!==g&&g.apply(this,arguments)||this}e.GetTokenListHistoryCountParams=f},257:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.validateFormFields=void 0;var i=e(53);o.validateFormFields=function(n){Object.keys(n.controls).forEach(function(t){var e=n.get(t);e instanceof i.FormControl?e.markAsTouched({onlySelf:!0}):e instanceof i.FormGroup&&(0,o.validateFormFields)(e)})}},307:function(t,e){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,(t.exports=n).id=307},309:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppService=void 0;var o=n(1),i=n(0),r=n(255),a=(s.prototype.setLoading=function(t){this.loading=t},s.prototype.isLoading=function(){return this.loading},s.prototype.publish=function(t,e){this.emitter.publish(t,e)},s.prototype.subscribe=function(t,e,n){return this.emitter.subscribe(t,e,n)},s.prototype.destroy=function(){this.emitter.destroy()},s=o.__decorate([(0,i.Injectable)(),o.__metadata("design:paramtypes",[])],s));function s(){this.emitter=new r.Emitter,this.loading=!0}e.AppService=a},310:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CacheAbstract=void 0;var o=n(52),i=(r.prototype.generateExpiration=function(t){if(t)return(new Date).getTime()+t},r.prototype.sortByKeys=function(e){if(!e)return{};var t=Object.keys(e),n=(0,o.sortBy)(t);return(0,o.fromPairs)((0,o.map)(n,function(t){return[t,e[t]]}))},r.prototype.generateHash=function(t){return(0,o.reduce)(this.sortByKeys(t),function(t,e,n){return(0,o.isUndefined)(e)?t:t+"_"+n+"_"+e.toString()},"APP_")},r);function r(){}e.CacheAbstract=i},311:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmailAuthenticationService=void 0;var o=n(1),i=n(0),r=n(254),a=(s.prototype.login=function(t){return this.identityAccountModelService.postAccountLogin(t)},s.prototype.register=function(t){return this.identityAccountModelService.postAccount(t)},s=o.__decorate([(0,i.Injectable)(),o.__metadata("design:paramtypes",[r.IdentityAccountModelService])],s));function s(t){this.identityAccountModelService=t}e.EmailAuthenticationService=a},312:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleAuthenticationService=void 0;var o=n(1),i=n(0),r=n(44),a=(s.prototype.login=function(t){return(0,r.of)(void 0)},s.prototype.register=function(t){return(0,r.of)(void 0)},s=o.__decorate([(0,i.Injectable)(),o.__metadata("design:paramtypes",[])],s));function s(){}e.GoogleAuthenticationService=a},313:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FacebookAuthenticationService=void 0;var o=n(1),i=n(0),r=n(44),a=(s.prototype.login=function(t){return(0,r.of)(void 0)},s.prototype.register=function(t){return(0,r.of)(void 0)},s=o.__decorate([(0,i.Injectable)(),o.__metadata("design:paramtypes",[])],s));function s(){}e.FacebookAuthenticationService=a},314:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenInstallerService=void 0;var o=n(1),i=n(52),r=n(0),a=n(44),s=n(45),c=n(745),u=n(167),p=(l.prototype.reset=function(){this.installing=!1,this.error=void 0},l.prototype.setInstalling=function(t){this.installing=t},l.prototype.isInstalling=function(){return this.installing},l.prototype.setError=function(t){this.error=new u.HttpErrorResponseState(t)},l.prototype.getError=function(){return this.error},l.prototype.hasError=function(){return!(0,i.isUndefined)(this.error)},l.prototype.purchaseAccessCode=function(t){var e=this;return this.setInstalling(!0),this.error=void 0,this.contentPurchaseAccessCodeModelService.purchaseAccessCode(t).pipe((0,s.catchError)(function(t){return e.setError(t),(0,a.throwError)(t)}),(0,s.finalize)(function(){e.setInstalling(!1)}))},l=o.__decorate([(0,r.Injectable)(),o.__metadata("design:paramtypes",[c.ContentPurchaseAccessCodeModelService])],l));function l(t){this.contentPurchaseAccessCodeModelService=t,this.installing=!1}e.TokenInstallerService=p},315:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenListViewerService=void 0;var o=n(1),i=n(52),r=n(0),a=n(258),s=n(44),c=n(45),u=n(213),p=n(167),l=(d.prototype.initialize=function(t){var e=this;this.setInitalize(!1),this.setError(void 0);var n={accountId:t};return this.contentTokenStateService.initializeTokenList(n).pipe((0,c.finalize)(function(){e.setInitalize(!0)}),(0,c.catchError)(function(t){return e.setError(t),(0,s.throwError)(t)}),(0,c.map)(function(t){return e.tokens=t}))},d.prototype.setError=function(t){this.error=new p.HttpErrorResponseState(t)},d.prototype.getError=function(){return this.error},d.prototype.isNotFoundError=function(){return(0,i.get)(this.getError(),"status")==a.NOT_FOUND},d.prototype.hasError=function(){return!(0,i.isUndefined)(this.error)},d.prototype.getTokens=function(){return this.tokens},d.prototype.hasTokens=function(){return!(0,i.isUndefined)(this.getTokens())},d.prototype.setInitalize=function(t){this.initialized=t},d.prototype.isInitialized=function(){return this.initialized},d.prototype.reset=function(){this.initialized=!1,this.tokens=[],this.error=void 0},d=o.__decorate([(0,r.Injectable)(),o.__metadata("design:paramtypes",[u.ContentTokenStateService])],d));function d(t){this.contentTokenStateService=t,this.initialized=!1}e.TokenListViewerService=l},316:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RungLegData=e.Rung=void 0;function o(){}e.Rung=o;function i(){}e.RungLegData=i},317:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchValueValidator=void 0;e.matchValueValidator=function(e,n){return function(t){return n.get(e).value==t.value?null:{matchValue:{value:t.value}}}}},318:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenListViewerModule=void 0;var o=n(1),i=n(0),r=n(53),a=n(6),s=n(113),c=n(168),u=n(749),p=n(315),l=d=o.__decorate([(0,i.NgModule)({imports:[s.NgbModule,r.FormsModule,a.CommonModule,c.LoadingModule],declarations:[u.TokenListViewerComponent],exports:[u.TokenListViewerComponent],providers:[p.TokenListViewerService]})],d);function d(){}e.TokenListViewerModule=l},706:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=n(707),r=n(708);n(757).environment.production&&(0,o.enableProdMode)(),(0,i.platformBrowserDynamic)().bootstrapModule(r.AppModule).catch(function(t){return console.error(t)})},708:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppModule=void 0;var o=n(1),i=n(95),r=n(101),a=n(0),s=n(308),c=n(113),u=n(709),p=n(720),l=n(722),d=n(168),h=n(309),g=f=o.__decorate([(0,a.NgModule)({declarations:[u.AppComponent],imports:[i.BrowserModule,r.RouterModule,s.HttpClientModule,c.NgbModule,p.AppRouteModule,l.HeaderNavigationViewModule,d.LoadingModule],exports:[i.BrowserModule],providers:[h.AppService],bootstrap:[u.AppComponent]})],f);function f(){}e.AppModule=g},709:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppComponent=void 0;var o=n(1),i=n(0),r=n(6),a=n(101),s=n(309),c=n(710),u=n(143),p=(l.prototype.ngOnInit=function(){this.initialize()},l.prototype.ngAfterViewInit=function(){},l.prototype.initialize=function(){this.identityService.setLogoutRedirect("/welcome")},l.prototype.open=function(){},l.prototype.isLoading=function(){return this.appService.isLoading()},l.prototype.setLoading=function(t){this.loading=t},l.prototype.onActivate=function(){console.log("ON ACTIVATE")},l.prototype.onDeactivate=function(){console.log("ON DEACTIVATE")},l.prototype.back=function(){this.location.back()},l.prototype.isHeaderVisible=function(){return!this.isPlayStartViewRoute()},l.prototype.isPlayRootViewRoute=function(){return(0,c.isRoute)(this.router.url,c.PLAY_ROOT_VIEW_ROUTE)},l.prototype.isPlayStartViewRoute=function(){return(0,c.isRoute)(this.router.url,c.PLAY_START_VIEW_ROUTE)},l=o.__decorate([(0,i.Component)({selector:"app-root",template:n(717),styles:[n(718)]}),o.__metadata("design:paramtypes",[r.Location,a.ActivatedRoute,a.Router,u.IdentityService,s.AppService])],l));function l(t,e,n,o,i){var r=this;this.location=t,this.route=e,this.router=n,this.identityService=o,this.appService=i,this.loading=!1,this.router.events.subscribe(function(t){t instanceof a.NavigationStart&&(r.appService.setLoading(!0),console.log("START NAVIGATION")),t instanceof a.NavigationEnd&&(r.currentRoute=t.url,r.appService.setLoading(!1),console.log("END NAVIGATION"))})}e.AppComponent=p},710:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRoute=e.PLAY_START_VIEW_ROUTE=e.PLAY_VIEW_ROUTE=e.PLAY_ROOT_VIEW_ROUTE=void 0;var o=n(52);e.PLAY_ROOT_VIEW_ROUTE="play",e.PLAY_VIEW_ROUTE="".concat(e.PLAY_ROOT_VIEW_ROUTE,"/view"),e.PLAY_START_VIEW_ROUTE="".concat(e.PLAY_ROOT_VIEW_ROUTE,"/start");e.isRoute=function(t,e){return(0,o.includes)(t,e)}},711:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SERVICE_URL=void 0,e.SERVICE_URL={identity:"https://localapi.laddergame.com/api/identity",content:"https://localapi.laddergame.com/api/content",progress:"https://localapi.laddergame.com/api/progress"}},712:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalForageGeneric=void 0;var o=n(52),i=n(713),r=n(247),a=n(714),s=(c.prototype.getDriver=function(){return(0,o.reduce)(c.DRIVERS,function(t,e){return a.Browser.isSafari()&&e==i.WEBSQL||a.Browser.isSafari()&&e==i.INDEXEDDB||i.supports(e)&&t.push(e),t},[])},c.prototype.isSupported=function(){return i.supports(i.INDEXEDDB)||i.supports(i.WEBSQL)||i.supports(i.LOCALSTORAGE)},c.prototype.setItem=function(e,t){return!this.storage||this.useMemory?(this.memoryStorage.setValue({key:e},t),Promise.resolve(t)):this.storage.setItem(e,t).catch(function(t){return console.error("localForage setItem",e,t),Promise.reject(t)})},c.prototype.getItem=function(e){return!this.storage||this.useMemory?this.memoryStorage.getCachePromise({key:e}):this.storage.getItem(e).catch(function(t){return console.error("localForage getItem",e,t),Promise.reject(t)})},c.prototype.removeItem=function(e){return!this.storage||this.useMemory?(this.memoryStorage.deleteCache({key:e}),Promise.resolve()):this.storage.removeItem(e).catch(function(t){return console.error("localForage removeItem",e,t),Promise.reject(t)})},c.prototype.clear=function(){return!this.storage||this.useMemory?(this.memoryStorage.destroy(),Promise.resolve(void 0)):this.storage.clear().catch(function(t){console.error("localForage clear",t)})},c.prototype.length=function(){return!this.storage||this.useMemory?Promise.resolve(this.memoryStorage.getLength()):this.storage.length().catch(function(t){return console.error("localForage length",t),Promise.reject(void 0)})},c.DRIVERS=[i.INDEXEDDB,i.WEBSQL,i.LOCALSTORAGE],c);function c(t){this.useMemory=!1,this.memoryStorage=new r.MemoryCache;try{this.storage=i.createInstance({name:t}),this.getDriver().length?this.storage.setDriver(this.getDriver()):this.useMemory=!0}catch(t){console.error("localForage creation",t)}}e.LocalForageGeneric=s},714:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Browser=void 0;var o=(i.isOpera=function(){return!!window.opr&&!!window.opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/")},i.isFireFox=function(){var t=this.getUserAgent();return void 0!==window.InstallTrigger||/Firefox/i.test(t)||/FxiOS/i.test(t)},i.isSafari=function(){if(i.isChrome()||i.isFireFox()||i.isEdge())return!1;var t=navigator.userAgent;return/Safari/i.test(t)||i.checkSafari(window.safari?window.safari.pushNotification:"")},i.isSafari11=function(){return i.isSafari()&&"11"==i.getVersion()},i.isSafari10=function(){return i.isSafari()&&"10"==i.getVersion()},i.checkSafari=function(t){return"[object SafariRemoteNotification]"===t.toString()},i.isInternetExplorer=function(){return!!window.document.documentMode},i.isEdge=function(){var t=this.getUserAgent();return!i.isInternetExplorer()&&!!window.StyleMedia||/Edge/i.test(t)||/EdgiOS/i.test(t)||/EdgA/i.test(t)},i.isChrome=function(){var t=window.navigator;return!!window.chrome&&"Google Inc."===t.vendor&&!i.isOpera()&&!i.isEdge()||i.isIos()&&t.userAgent.match("CriOS")},i.isBlink=function(){return(i.isChrome()||i.isOpera())&&!!window.CSS},i.isIosMobileWebView=function(){var t=window.navigator.standalone||!1;return i.isIos()&&!t&&!i.isSafari()},i.isIos=function(){var t=navigator.userAgent;return/iPhone/i.test(t)||/iPad/i.test(t)||/iPod/i.test(t)},i.isChromeOs=function(){var t=navigator.userAgent;return/CrOS/i.test(t)},i.isMobile=function(){if(void 0!==i.mobileDevice)return i.mobileDevice;var t=navigator.userAgent;return i.mobileDevice=/Android/i.test(t)||/webOS/i.test(t)||/iPhone/i.test(t)||/iPad/i.test(t)||/iPod/i.test(t)||/BlackBerry/i.test(t)||/Windows Phone/i.test(t)||this.isIpad()},i.getDevice=function(){var t=navigator.userAgent;return/Android/i.test(t)?"Android":/webOS/i.test(t)?"webOS":/iPhone/i.test(t)?"iPhone":/iPad/i.test(t)?"iPad":/iPod/i.test(t)?"iPod":/BlackBerry/i.test(t)?"BlackBerry":/Windows Phone/i.test(t)?"Windows Phone":"Desktop"},i.isIpad=function(){var t=-1!==navigator.userAgent.toLowerCase().indexOf("ipad");return!!(!t&&navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints)||t},i.isIosDesktopView=function(){return!(!navigator.platform||!navigator.platform.match(/iPhone|iPod|iPad/))||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints},i.getVersion=function(){var t=navigator.userAgent,e=[];return i.isInternetExplorer()?(e=/\brv[ :]+(\d+)/g.exec(t)||[])&&e[1]||"":i.isOpera()?(e=t.match(/opera\/?\s*(\d+)/i))&&e[1]||"":(i.isChrome()&&(e=t.match(/(chrome(?=\/))\/?\s*(\d+)/i)),i.isFireFox()&&(e=t.match(/(firefox(?=\/))\/?\s*(\d+)/i)),i.isSafari()&&(e=t.match(/(version|safari(?=\/))\/?\s*(\d+)/i)),i.isEdge()&&(e=t.match(/(trident|edge(?=\/))\/?\s*(\d+)/i)),e&&e[2]||"")},i.getName=function(){return i.isChrome()?"Chrome":i.isFireFox()?"FireFox":i.isSafari()?"Safari":i.isEdge()?"Edge":i.isInternetExplorer()?"IE":i.isOpera()?"Opera":""},i.isAndroid=function(){var t=navigator.userAgent;return/Android/i.test(t)},i.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},i.appendScript=function(t,e,n){if(void 0===n&&(n=!0),!document.getElementById(t)){var o=document.createElement("script");o.id=t,o.src=e,o.async=n;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i)}},i.appendStyle=function(t,e){if(!document.getElementById(t)){var n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.id=t,o.rel="stylesheet",o.type="text/css",o.href=e,o.media="all",n.appendChild(o)}},i.getIosVersion=function(){if(!i.isMobile()||!i.isIos())return"";var t=navigator.userAgent,e=t.indexOf("OS ");return-1<e?t.substr(e+3,3).replace("_","."):void 0},i.getAndroidVersion=function(){if(!i.isMobile()||!i.isAndroid())return"";var t=navigator.userAgent,e=t.indexOf("Android ");return-1<e?t.substr(e+8,3).replace("_","."):void 0},i.getUserAgent=function(){return navigator.userAgent},i.isAudioWorkletEnabled=function(){if(!window.OfflineAudioContext)return!1;var t=new OfflineAudioContext(1,1,44100);return Boolean(t.audioWorklet&&"function"==typeof t.audioWorklet.addModule)},i.getOSVersion=function(){if(/[\.\_\d]+/.exec(i.getUserAgent()))return/[\.\_\d]+/.exec(i.getUserAgent())[0]},i.getOSName=function(){var t=navigator.platform;return-1!=t.indexOf("Win")?"Windows":-1!=t.indexOf("Mac")?"MacOS":-1!=t.indexOf("X11")?"UNIX":-1!=t.indexOf("iPhone")?"iOS":-1!=t.indexOf("Android")?"Android":"Unknown OS"},i.isMac=function(){return-1!=navigator.appVersion.indexOf("Mac")},i.isLinux=function(){return-1!=navigator.appVersion.indexOf("Linux")},i.isUnix=function(){return-1!=navigator.appVersion.indexOf("X11")},i.isWindows=function(){return-1!=navigator.appVersion.indexOf("Win")},i.isWorkerEnabled=function(){return!!i.enableWorker&&void 0!==window.Worker},i.setWorkerEnabledFlag=function(t){i.enableWorker=t},i.enableWorker=!0,i);function i(){}e.Browser=o},715:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalObservableCache=void 0;var o=(i.getCache=function(t,e){return window.observableCache||(window.observableCache={}),window.observableCache[t]||(window.observableCache[t]=e?e():void 0),window.observableCache[t]},i.removeCache=function(t){window.observableCache&&window.observableCache[t]&&(window.observableCache[t]=void 0)},i);function i(){}e.GlobalObservableCache=o},716:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccountLogin=e.AuthenticationErrorResponse=e.Account=void 0;function o(){}e.Account=o;function i(){}e.AuthenticationErrorResponse=i;function r(){}e.AccountLogin=r},717:function(t,e){t.exports='<app-header-navigation-view\r\n    [class.d-none]="!isHeaderVisible()"\r\n></app-header-navigation-view>\r\n<main role="main" [class.p-0]="!isHeaderVisible()">\r\n    <ng-template [ngIf]="isLoading()">\r\n        <div class="loading-wrapper">\r\n            <app-loading [type]="\'overlay\'" [size]="\'lg\'"></app-loading>\r\n        </div>\r\n    </ng-template>\r\n    <router-outlet></router-outlet>\r\n</main>\r\n'},718:function(t,e,n){var o=n(719);t.exports="string"==typeof o?o:o.toString()},719:function(t,e,n){(e=n(100)(!1)).push([t.i,"main{position:relative}.go-back{top:1.9em;left:.3em;width:1.2em;font-size:1.4em;cursor:pointer}.loading-wrapper{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;z-index:9}",""]),t.exports=e},720:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppRouteModule=void 0;var n=o(1),i=o(95),r=o(0),a=o(101),s=[{path:"",canActivate:[o(721).InitializeGuardService],children:[{path:"",redirectTo:"about",pathMatch:"full"},{path:"about",loadChildren:function(){return new Promise(function(e,n){o.e(7).then(function(t){e(o(319).AboutViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}},{path:"welcome",loadChildren:function(){return new Promise(function(e,n){o.e(7).then(function(t){e(o(319).AboutViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}},{path:"setup",loadChildren:function(){return new Promise(function(e,n){Promise.all([o.e(1),o.e(0),o.e(3),o.e(2),o.e(25)]).then(function(t){e(o(758).SetupViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}},{path:"play",loadChildren:function(){return new Promise(function(e,n){Promise.all([o.e(1),o.e(0),o.e(3),o.e(2),o.e(6)]).then(function(t){e(o(320).DemoViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}},{path:"game",loadChildren:function(){return new Promise(function(e,n){Promise.all([o.e(1),o.e(0),o.e(2),o.e(28)]).then(function(t){e(o(759).GameViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}},{path:"friends",loadChildren:function(){return new Promise(function(e,n){o.e(27).then(function(t){e(o(760).ParticipantViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}},{path:"purchase",loadChildren:function(){return new Promise(function(e,n){o.e(29).then(function(t){e(o(761).PurchaseViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}},{path:"account",loadChildren:function(){return new Promise(function(e,n){Promise.all([o.e(4),o.e(17),o.e(26)]).then(function(t){e(o(762).AccountViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}},{path:"demo",loadChildren:function(){return new Promise(function(e,n){Promise.all([o.e(1),o.e(0),o.e(3),o.e(2),o.e(6)]).then(function(t){e(o(320).DemoViewModule)}.bind(null,o)).catch(function(t){n({loadChunkError:!0,details:t})})})}}]}],c=u=n.__decorate([(0,r.NgModule)({imports:[i.BrowserModule,a.RouterModule.forRoot(s)]})],u);function u(){}e.AppRouteModule=c},721:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializeGuardService=void 0;var o=n(1),i=n(0),r=n(101),a=n(45),s=n(143),c=(u.prototype.canActivate=function(){return console.log("initializing guard."),this.identityService.initialize().pipe((0,a.map)(function(){return!0}))},u=o.__decorate([(0,i.Injectable)({providedIn:"root"}),o.__metadata("design:paramtypes",[s.IdentityService,r.Router])],u));function u(t,e){this.identityService=t,this.router=e}e.InitializeGuardService=c},722:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderNavigationViewModule=void 0;var o=n(1),i=n(0),r=n(6),a=n(101),s=n(113),c=n(723),u=n(743),p=n(318),l=n(753),d=h=o.__decorate([(0,i.NgModule)({imports:[s.NgbModule,r.CommonModule,a.RouterModule,c.AuthenticationAppModule,u.TokenInstallerModule,p.TokenListViewerModule],declarations:[l.HeaderNavigationViewComponent],exports:[l.HeaderNavigationViewComponent],providers:[],bootstrap:[l.HeaderNavigationViewComponent]})],h);function h(){}e.HeaderNavigationViewModule=d},723:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationAppModule=void 0;var o=n(1),i=n(0),r=n(6),a=n(101),s=n(53),c=n(113),u=n(168),p=n(728),l=n(729),d=n(732),h=n(736),g=n(160),f=n(741),v=n(742),m=y=o.__decorate([(0,i.NgModule)({imports:[c.NgbModule,r.CommonModule,a.RouterModule,s.FormsModule,s.ReactiveFormsModule,p.AuthenticationAdapterModule,u.LoadingModule],declarations:[l.AuthenticationAppComponent,d.AuthenticationLoginAppComponent,h.AuthenticationRegisterAppComponent],exports:[l.AuthenticationAppComponent,d.AuthenticationLoginAppComponent,h.AuthenticationRegisterAppComponent],providers:[g.AuthenticationAppService,f.AuthenticationLoginAppService,v.AuthenticationRegisterAppService]})],y);function y(){}e.AuthenticationAppModule=m},724:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingComponent=void 0;var o,i=n(1),r=n(0),a=((o=s).prototype.isTypeOverlay=function(){return this.getType()==o.LOADER_TYPE_OVERLAY},s.prototype.isTypeSimple=function(){return this.getType()==o.LOADER_TYPE_SIMPLE},s.prototype.getType=function(){return this.type},s.prototype.getText=function(){return this.text},s.prototype.getSize=function(){return this.size},s.prototype.getClassSize=function(){return"loader-".concat(this.getSize())},s.LOADER_TYPE_OVERLAY="overlay",s.LOADER_TYPE_SIMPLE="simple",i.__decorate([(0,r.Input)(),i.__metadata("design:type",String)],s.prototype,"type",void 0),i.__decorate([(0,r.Input)(),i.__metadata("design:type",String)],s.prototype,"size",void 0),i.__decorate([(0,r.Input)(),i.__metadata("design:type",String)],s.prototype,"text",void 0),s=o=i.__decorate([(0,r.Component)({selector:"app-loading",template:n(725),styles:[n(726)]}),i.__metadata("design:paramtypes",[])],s));function s(){this.type=o.LOADER_TYPE_SIMPLE,this.size="sm",this.text=""}e.LoadingComponent=a},725:function(t,e){t.exports='<ng-template [ngIf]="isTypeOverlay()">\r\n    <div class="loading-overlay-main" [ngClass]="getClassSize()">\r\n        <div class="loading-bg"></div>\r\n        <div\r\n            class="loading-content d-flex justify-content-center align-items-center flex-column"\r\n        >\r\n            <div\r\n                class="loader-border rounded-circle d-flex justify-content-center p-2"\r\n            >\r\n                <span\r\n                    class="spinner-border spinner-border-sm lg-spinner text-dark loader-lg"\r\n                ></span>\r\n            </div>\r\n            <span\r\n                *ngIf="getText()"\r\n                class="mt-2 bg-info text-white px-2 rounded"\r\n                >{{ getText() }}</span\r\n            >\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template [ngIf]="isTypeSimple()">\r\n    <div\r\n        [ngClass]="getClassSize()"\r\n        class="d-flex align-items-center flex-column w-100"\r\n    >\r\n        <div\r\n            class="loader-border rounded-circle d-flex justify-content-center p-2"\r\n        >\r\n            <span\r\n                class="spinner-border spinner-border-sm lg-spinner text-dark"\r\n            ></span>\r\n        </div>\r\n        <span *ngIf="getText()" class="mt-2 bg-info text-white px-2 rounded">{{\r\n            getText()\r\n        }}</span>\r\n    </div>\r\n</ng-template>\r\n'},726:function(t,e,n){var o=n(727);t.exports="string"==typeof o?o:o.toString()},727:function(t,e,n){(e=n(100)(!1)).push([t.i,".loading-overlay-main{position:absolute;height:100%;width:100%;top:0;z-index:9}.loading-bg{height:100%;width:100%;opacity:.5;background:#fff}.loading-content{position:absolute;top:0;height:100%;width:100%}.loader-border{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1);background-color:#fff}.loader-lg .loader-border{width:4em}.loader-lg .loader-border .spinner-border{width:3rem;height:3rem;font-size:2.5em}.loader-sm .loader-border{width:3em}.loader-sm .loader-border .spinner-border{width:2rem;height:2rem;font-size:2em}",""]),t.exports=e},728:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationAdapterModule=void 0;var o=n(1),i=n(0),r=n(6),a=n(101),s=n(248),c=n(311),u=n(312),p=n(313),l=d=o.__decorate([(0,i.NgModule)({imports:[r.CommonModule,a.RouterModule],providers:[s.AuthenticationAdapterService,c.EmailAuthenticationService,u.GoogleAuthenticationService,p.FacebookAuthenticationService]})],d);function d(){}e.AuthenticationAdapterModule=l},729:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationAppComponent=void 0;var o=n(1),i=n(0),r=n(160),a=n(143),s=(c.prototype.ngOnInit=function(){this.setDefaultAuthType()},c.prototype.ngOnDestroy=function(){this.authenticationAppService.setAuthTypeLogin()},c.prototype.setDefaultAuthType=function(){this.getAuthType()&&this.authenticationAppService.setAuthType(this.getAuthType())},c.prototype.getAuthType=function(){return this.authType},c.prototype.isAuthTypeLogin=function(){return this.authenticationAppService.isAuthTypeLogin()},c.prototype.isAuthTypeRegister=function(){return this.authenticationAppService.isAuthTypeRegister()},c.prototype.authenticate=function(t){this.onAuthenticate.emit(t),t&&this.identityService.initialize()},c.prototype.shouldShowCallToAction=function(){return this.showCallToAction},o.__decorate([(0,i.Input)(),o.__metadata("design:type",String)],c.prototype,"authType",void 0),o.__decorate([(0,i.Input)(),o.__metadata("design:type",Boolean)],c.prototype,"showCallToAction",void 0),o.__decorate([(0,i.Output)(),o.__metadata("design:type",i.EventEmitter)],c.prototype,"onAuthenticate",void 0),c=o.__decorate([(0,i.Component)({selector:"app-authentication-app",template:n(730),styles:[n(249)]}),o.__metadata("design:paramtypes",[r.AuthenticationAppService,a.IdentityService])],c));function c(t,e){this.authenticationAppService=t,this.identityService=e,this.showCallToAction=!0,this.onAuthenticate=new i.EventEmitter}e.AuthenticationAppComponent=s},730:function(t,e){t.exports='<app-authentication-login-app\r\n    *ngIf="isAuthTypeLogin()"\r\n    [showCallToAction]="shouldShowCallToAction()" \r\n    (onAuthenticate)="authenticate($event)"></app-authentication-login-app>\r\n<app-authentication-register-app\r\n    *ngIf="isAuthTypeRegister()"\r\n    [showCallToAction]="shouldShowCallToAction()" \r\n    (onAuthenticate)="authenticate($event)"></app-authentication-register-app>'},731:function(t,e,n){(e=n(100)(!1)).push([t.i,"form{position:relative}.pick-color[readonly]{background:#fff;cursor:pointer}.input-errors{color:red;font-size:.85em;margin-top:.2em;padding:0}.loading-overlay{position:absolute;width:100%;height:100%}.loading-overlay-bg{background-color:#fff;position:absolute;width:100%;height:100%;opacity:.3}",""]),t.exports=e},732:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationLoginAppComponent=void 0;var o=n(1),i=n(52),r=n(0),a=n(53),s=n(45),c=n(192),u=n(160),p=n(248),l=n(257),d=n(167),h=(g.prototype.initializeForm=function(){this.currentForm=this.formBuilder.group({email:this.email,password:this.password}),this.currentForm.controls.email.setValidators([a.Validators.required,a.Validators.email]),this.currentForm.controls.password.setValidators([a.Validators.required])},g.prototype.onSubmit=function(){this.setError(void 0),this.currentForm.valid?this.login():(0,l.validateFormFields)(this.currentForm)},g.prototype.isLoading=function(){return this.authenticationAppService.isLoading()},g.prototype.login=function(){this.authenticationAppService.setLoading(!0),this.loginEmail()},g.prototype.loginEmail=function(){var e=this,t={email:this.email.value,password:this.password.value};this.authenticationAdapterService.login(p.AuthenticationAdapterService.TYPE_EMAIL,t).pipe((0,s.finalize)(function(){e.authenticationAppService.setLoading(!1)})).subscribe(function(){e.onAuthenticate.emit(!0)},function(t){e.setError(t),e.onAuthenticate.emit(!1),console.log("LOGIN ERROR: ",t)})},g.prototype.setError=function(t){this.error=new d.HttpErrorResponseState(t)},g.prototype.hasError=function(){return!(0,i.isUndefined)(this.error)},g.prototype.getError=function(){return this.error},g.prototype.shouldShowCallToAction=function(){return this.showCallToAction},g.prototype.gotoRegister=function(){this.authenticationAppService.setAuthTypeRegister()},o.__decorate([(0,r.Output)(),o.__metadata("design:type",r.EventEmitter)],g.prototype,"onAuthenticate",void 0),o.__decorate([(0,r.Input)(),o.__metadata("design:type",Boolean)],g.prototype,"showCallToAction",void 0),g=o.__decorate([(0,r.Component)({selector:"app-authentication-login-app",template:n(733),styles:[n(249),n(734)]}),o.__metadata("design:paramtypes",[u.AuthenticationAppService,p.AuthenticationAdapterService,c.CookieService,a.FormBuilder])],g));function g(t,e,n,o){this.authenticationAppService=t,this.authenticationAdapterService=e,this.cookieService=n,this.formBuilder=o,this.onAuthenticate=new r.EventEmitter,this.showCallToAction=!0,this.email=new a.FormControl,this.password=new a.FormControl,this.credentialsInvalid=!1,this.initializeForm()}e.AuthenticationLoginAppComponent=h},733:function(t,e){t.exports='<h3 class="mb-3">Login</h3>\r\n<div *ngIf="hasError() && getError().isErrorNotFound()" class="alert alert-danger">\r\n    Invalid Email or Password.\r\n</div>\r\n<div *ngIf="hasError() && getError().isError5xx()" class="alert alert-danger">\r\n    Service unvailable at the moment. Please try again later.\r\n</div>\r\n<form [formGroup]="currentForm" (ngSubmit)="onSubmit()">\r\n    <app-loading *ngIf="isLoading()" [type]="\'overlay\'" [size]="\'sm\'"></app-loading>\r\n    <div class="form-group">\r\n        <input \r\n            tabindex="0"\r\n            type="text" \r\n            [formControl]="email" \r\n            [class.border-danger]="(email.hasError(\'required\') || email.hasError(\'email\')) && email.touched"\r\n            class="form-control rounded-0" \r\n            id="email" \r\n            name="email"\r\n            placeholder="Email">\r\n            <p *ngIf="email.invalid && email.touched" class="input-errors">\r\n                <span *ngIf="email.hasError(\'required\')">Email is required</span>\r\n                <span *ngIf="email.hasError(\'email\')">Your Email is invalid</span>\r\n            </p>\r\n    </div>\r\n    <div class="form-group">\r\n        <input \r\n            type="password" \r\n            [formControl]="password" \r\n            [class.border-danger]="password.hasError(\'required\') && password.touched"\r\n            class="form-control rounded-0" \r\n            id="password" \r\n            name="password"\r\n            placeholder="Password">\r\n            <p *ngIf="password.invalid && password.touched" class="input-errors">\r\n                <span *ngIf="password.hasError(\'required\')">Password is required</span>\r\n            </p>\r\n    </div>\r\n    <button type="submit" class="btn btn-app mb-2 w-100 rounded-0" [disabled]="isLoading()">Login</button>\r\n    <ng-template [ngIf]="shouldShowCallToAction()">\r\n        <div class="text-center">\r\n            <span class="mr-2">New to Laddergame?</span> <a [routerLink]="" (click)="gotoRegister()">Create an account</a>\r\n        </div>    \r\n    </ng-template>\r\n    \x3c!-- <div class="d-flex flex-column">\r\n        <p class="text-center py-0 my-1">or</p>\r\n        <div class="d-flex justify-content-center mb-2 py-1 w-100">\r\n            <button class="btn btn-danger mr-1 flex-fill">Google</button>\r\n            <button class="btn btn-info ml-1 py-0 flex-fill">Facebook</button>\r\n        </div>\r\n    </div> --\x3e\r\n</form>\r\n'},734:function(t,e,n){var o=n(735);t.exports="string"==typeof o?o:o.toString()},735:function(t,e,n){(e=n(100)(!1)).push([t.i,"",""]),t.exports=e},736:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationRegisterAppComponent=void 0;var o=n(1),i=n(52),r=n(0),a=n(53),s=n(45),c=n(248),u=n(160),p=n(317),l=n(257),d=n(737),h=n(167),g=(f.prototype.initializeForm=function(){this.currentForm=this.formBuilder.group({firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,passwordConfirm:this.passwordConfirm}),this.currentForm.controls.firstName.setValidators([a.Validators.required,a.Validators.minLength(2),a.Validators.maxLength(100)]),this.currentForm.controls.lastName.setValidators([a.Validators.required,a.Validators.minLength(2),a.Validators.maxLength(100)]),this.currentForm.controls.email.setValidators([a.Validators.required,a.Validators.email]),this.currentForm.controls.password.setValidators([a.Validators.required,a.Validators.minLength(5)]),this.currentForm.controls.passwordConfirm.setValidators([a.Validators.required,(0,p.matchValueValidator)("password",this.currentForm)])},f.prototype.gotoLogin=function(){this.authenticationAppService.setAuthTypeLogin()},f.prototype.onSubmit=function(){this.setError(void 0),this.currentForm.valid?this.register():(0,l.validateFormFields)(this.currentForm)},f.prototype.isLoading=function(){return this.authenticationAppService.isLoading()},f.prototype.register=function(){this.authenticationAppService.setLoading(!0),this.registerEmail()},f.prototype.registerEmail=function(){var e=this,n={firstName:this.firstName.value,lastName:this.lastName.value,email:this.email.value,password:this.password.value};console.log("AUTHENTICATION DATA: ",n),this.authenticationAdapterService.register(c.AuthenticationAdapterService.TYPE_EMAIL,n).pipe((0,s.finalize)(function(){e.authenticationAppService.setLoading(!1)}),(0,s.flatMap)(function(){var t=(0,i.pick)(n,["email","password"]);return e.authenticationAdapterService.login(c.AuthenticationAdapterService.TYPE_EMAIL,t)})).subscribe(function(){e.onAuthenticate.emit(!0)},function(t){e.onAuthenticate.emit(!1),e.setError(t),console.log("LOGIN ERROR: ",e.getErrorList())})},f.prototype.setError=function(t){this.error=new h.HttpErrorResponseState(t)},f.prototype.hasError=function(){return!(0,i.isUndefined)(this.error)},f.prototype.getError=function(){return this.error},f.prototype.getErrorList=function(){return this.hasError()&&this.getError().getErrorList()},f.prototype.getEmailErrors=function(){return(0,i.get)(this.getErrorList(),"email")},f.prototype.isEmailTaken=function(){return(0,i.includes)(this.getEmailErrors(),d.EMAIL_EXISTS)},f.prototype.shouldShowCallToAction=function(){return this.showCallToAction},o.__decorate([(0,r.Input)(),o.__metadata("design:type",Boolean)],f.prototype,"showCallToAction",void 0),o.__decorate([(0,r.Output)(),o.__metadata("design:type",r.EventEmitter)],f.prototype,"onAuthenticate",void 0),f=o.__decorate([(0,r.Component)({selector:"app-authentication-register-app",template:n(738),styles:[n(249),n(739)]}),o.__metadata("design:paramtypes",[u.AuthenticationAppService,c.AuthenticationAdapterService,a.FormBuilder])],f));function f(t,e,n){this.authenticationAppService=t,this.authenticationAdapterService=e,this.formBuilder=n,this.showCallToAction=!0,this.onAuthenticate=new r.EventEmitter,this.firstName=new a.FormControl,this.lastName=new a.FormControl,this.email=new a.FormControl,this.password=new a.FormControl,this.passwordConfirm=new a.FormControl,this.initializeForm()}e.AuthenticationRegisterAppComponent=g},737:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PASSWORD_REQUIRED=e.EMAIL_EXISTS=e.EMAIL_REQUIRED=e.LASTNAME_REQUIRED=e.FIRSTNAME_REQUIRED=void 0,e.FIRSTNAME_REQUIRED="FIRSTNAME_REQUIRED",e.LASTNAME_REQUIRED="LASTNAME_REQUIRED",e.EMAIL_REQUIRED="EMAIL_REQUIRED",e.EMAIL_EXISTS="EMAIL_EXISTS",e.PASSWORD_REQUIRED="PASSWORD_REQUIRED"},738:function(t,e){t.exports='<h3 class="mb-3">Registration</h3>\r\n<ng-template [ngIf]="hasError()">\r\n    <div *ngIf="getError().isErrorMethodNotAllowed()" class="alert alert-danger">\r\n        <span *ngIf="isEmailTaken()">Email is already taken.</span>\r\n        <span *ngIf="!isEmailTaken()">Invalid registration data.</span>\r\n    </div>    \r\n    <div *ngIf="getError().isError5xx()" class="alert alert-danger">\r\n        Service unvailable at the moment. Please try again later.\r\n    </div>    \r\n</ng-template>\r\n<form [formGroup]="currentForm" (ngSubmit)="onSubmit()">\r\n    <app-loading *ngIf="isLoading()" [type]="\'overlay\'" [size]="\'sm\'"></app-loading>\r\n    <div class="form-group">\r\n        <input \r\n            type="text" \r\n            [formControl]="firstName" \r\n            [class.border-danger]="firstName.hasError(\'required\') && firstName.touched"\r\n            class="form-control rounded-0" \r\n            id="firstName" \r\n            name="firstName"\r\n            placeholder="First Name">\r\n            <p *ngIf="firstName.invalid && firstName.touched" class="input-errors">\r\n                <span *ngIf="firstName.hasError(\'required\')">First Name is required</span>\r\n                <span *ngIf="firstName.hasError(\'minlength\') || firstName.hasError(\'maxlength\')">First name should have 2 to 100 characters</span>\r\n            </p>\r\n    </div>\r\n    <div class="form-group">\r\n        <input \r\n            type="text" \r\n            [formControl]="lastName"\r\n            [class.border-danger]="lastName.hasError(\'required\') && lastName.touched"\r\n            class="form-control rounded-0" \r\n            id="lastName" \r\n            name="lastName"\r\n            placeholder="Last Name">\r\n            <p *ngIf="lastName.invalid && lastName.touched" class="input-errors">\r\n                <span *ngIf="lastName.hasError(\'required\')">Last Name is required</span>\r\n                <span *ngIf="lastName.hasError(\'minlength\') || lastName.hasError(\'maxlength\')">Last Name should have 2 to 100 characters</span>\r\n            </p>\r\n    </div>\r\n    <div class="form-group">\r\n        <input \r\n            type="text" \r\n            [formControl]="email" \r\n            [class.border-danger]="(email.hasError(\'required\') || email.hasError(\'email\')) && email.touched"\r\n            class="form-control rounded-0" \r\n            id="email" \r\n            name="email"\r\n            placeholder="Email">\r\n            <p *ngIf="email.invalid && email.touched" class="input-errors">\r\n                <span *ngIf="email.hasError(\'required\')">Email is required</span>\r\n                <span *ngIf="email.hasError(\'email\')">Your Email is invalid</span>\r\n            </p>\r\n    </div>    \r\n    <div class="form-group">\r\n        <input \r\n            type="password" \r\n            [formControl]="password" \r\n            [class.border-danger]="password.hasError(\'required\') && password.touched"\r\n            class="form-control rounded-0" \r\n            id="password" \r\n            name="password"\r\n            placeholder="Password">\r\n            <p *ngIf="password.invalid && password.touched" class="input-errors">\r\n                <span *ngIf="password.hasError(\'required\')">Password is required</span>\r\n                <span *ngIf="password.hasError(\'minlength\')">Password should have minimum of 5 characters</span>\r\n            </p>\r\n    </div>\r\n    <div class="form-group">\r\n        <input \r\n            type="password" \r\n            [formControl]="passwordConfirm" \r\n            [class.border-danger]="(passwordConfirm.hasError(\'required\')) && passwordConfirm.touched"\r\n            class="form-control rounded-0" \r\n            id="passwordConfirm" \r\n            name="passwordConfirm"\r\n            placeholder="Confirm Password">\r\n            <p *ngIf="passwordConfirm.invalid && passwordConfirm.touched" class="input-errors">\r\n                <span *ngIf="passwordConfirm.hasError(\'required\')">Confirm Password is required</span>\r\n                <span *ngIf="passwordConfirm.hasError(\'matchValue\') && !passwordConfirm.hasError(\'required\')">Your Password and Confirmation Password do not match</span>\r\n            </p>\r\n    </div>\r\n    <button type="submit" class="btn btn-app mb-2 w-100 rounded-0" [disabled]="isLoading()">Register</button>\r\n    <ng-template [ngIf]="shouldShowCallToAction()">\r\n    <div class="text-center">\r\n        <span class="mr-2">Existing User?</span> <a [routerLink]="" (click)="gotoLogin()">Login</a>\r\n    </div>\r\n    </ng-template>\r\n</form>'},739:function(t,e,n){var o=n(740);t.exports="string"==typeof o?o:o.toString()},740:function(t,e,n){(e=n(100)(!1)).push([t.i,"",""]),t.exports=e},741:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationLoginAppService=void 0;var o=n(1),i=n(114),r=n(0),a=n(44),s=(c.prototype.test=function(){},c.prototype.postAuthenticate=function(t){return(0,a.of)(void 0)},c=o.__decorate([(0,r.Injectable)(),o.__metadata("design:paramtypes",[i.ConnectionFactoryService])],c));function c(t){this.connectionFactoryService=t}e.AuthenticationLoginAppService=s},742:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthenticationRegisterAppService=void 0;var o=n(1),i=n(0),r=n(44),a=(s.prototype.postAuthenticate=function(t){return(0,r.of)(void 0)},s=o.__decorate([(0,i.Injectable)(),o.__metadata("design:paramtypes",[])],s));function s(){}e.AuthenticationRegisterAppService=a},743:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenInstallerModule=void 0;var o=n(1),i=n(0),r=n(53),a=n(6),s=n(113),c=n(168),u=n(744),p=n(314),l=d=o.__decorate([(0,i.NgModule)({imports:[s.NgbModule,r.FormsModule,a.CommonModule,c.LoadingModule],declarations:[u.TokenInstallerComponent],exports:[u.TokenInstallerComponent],providers:[p.TokenInstallerService]})],d);function d(){}e.TokenInstallerModule=l},744:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenInstallerComponent=void 0;var o=n(1),i=n(0),r=n(113),a=n(143),s=n(314),c=(u.prototype.ngOnDestroy=function(){this.tokenInstallerService.reset()},u.prototype.getFirstName=function(){return this.identityService.getFirstName()},u.prototype.claim=function(){var e=this,t={accountId:this.identityService.getAccountId(),accessCode:"G6fAupi6uB"};this.tokenInstallerService.purchaseAccessCode(t).subscribe(function(t){e.onClaimed.emit(t)})},u.prototype.close=function(){this.modalService.dismissAll()},u.prototype.isInstalling=function(){return this.tokenInstallerService.isInstalling()},u.prototype.hasError=function(){return this.tokenInstallerService.hasError()},u.prototype.getError=function(){return this.tokenInstallerService.getError()},o.__decorate([(0,i.Output)(),o.__metadata("design:type",i.EventEmitter)],u.prototype,"onClaimed",void 0),u=o.__decorate([(0,i.Component)({selector:"app-token-installer",template:n(746),styles:[n(747)]}),o.__metadata("design:paramtypes",[a.IdentityService,s.TokenInstallerService,r.NgbModal])],u));function u(t,e,n){this.identityService=t,this.tokenInstallerService=e,this.modalService=n,this.onClaimed=new i.EventEmitter}e.TokenInstallerComponent=c},745:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostPurchaseAccessCode=e.ContentPurchaseAccessCodeModelService=void 0;var o=n(1),i=n(0),r=n(114),a=(s.prototype.purchaseAccessCode=function(t){return this.connectionFactoryService.service("content").setPath("purchase/accesscode").post(void 0,t)},s=o.__decorate([(0,i.Injectable)({providedIn:"root"}),o.__metadata("design:paramtypes",[r.ConnectionFactoryService])],s));function s(t){this.connectionFactoryService=t}e.ContentPurchaseAccessCodeModelService=a;function c(){}e.PostPurchaseAccessCode=c},746:function(t,e){t.exports='<div class="d-flex flex-column">\r\n\r\n    <ng-template [ngIf]="hasError()">\r\n        <div class="alert alert-danger m-3">\r\n            Service unvailable at the moment. Please try again later\r\n        </div>\r\n        <div class="text-center pt-2">\r\n            <span (click)="close()"\r\n                class="btn btn-app btn-sm">Close</span>\r\n        </div> \r\n    </ng-template>\r\n\r\n    <ng-template [ngIf]="!hasError()">\r\n        <ng-template [ngIf]="isInstalling()">\r\n            <div class="py-3">\r\n                <app-loading [size]="\'sm\'"\r\n                [text]="\'Loading..\'"></app-loading>\r\n            </div>\r\n        </ng-template>\r\n    \r\n        <ng-template [ngIf]="!isInstalling()">\r\n            <h5 class="pt-2"><i class="fa fa-trophy text-warning"></i> Claim your free tokens now!</h5>\r\n            <p class="mb-2 pt-2">\r\n                Hi {{getFirstName()}}. Thank you for registering on Laddergame. <br />\r\n                Please enjoy your free 5 tokens. Just click the "Claim Now" button below to get your free tokens. Thank you again and enjoy.\r\n            </p>\r\n            <div class="text-center pt-2">\r\n                <span (click)="claim()"\r\n                    class="btn btn-app bg-danger text-white font-weight-bold mx-1">Claim Now!</span>\r\n            </div>    \r\n        </ng-template>    \r\n    </ng-template>\r\n</div>'},747:function(t,e,n){var o=n(748);t.exports="string"==typeof o?o:o.toString()},748:function(t,e,n){(e=n(100)(!1)).push([t.i,"",""]),t.exports=e},749:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenListViewerComponent=void 0;var o=n(1),i=n(0),r=n(315),a=(s.prototype.ngOnInit=function(){this.initialize()},s.prototype.ngOnDestroy=function(){this.tokenListViewerService.reset()},s.prototype.initialize=function(){this.tokenListViewerService.initialize(this.getAccountId()).subscribe(function(){})},s.prototype.getTokens=function(){return this.tokenListViewerService.getTokens()},s.prototype.hasTokens=function(){return this.tokenListViewerService.hasTokens()},s.prototype.isInitialized=function(){return this.tokenListViewerService.isInitialized()},s.prototype.getError=function(){return this.tokenListViewerService.getError()},s.prototype.hasError=function(){return this.tokenListViewerService.hasError()},s.prototype.getAccountId=function(){return this.accountId},s.prototype.shouldShowSelector=function(){return this.showSelector},s.prototype.getName=function(t){return"select-token-".concat(t.tokenId)},s.prototype.select=function(t){this.onSelect.emit(t)},o.__decorate([(0,i.Input)(),o.__metadata("design:type",Number)],s.prototype,"accountId",void 0),o.__decorate([(0,i.Input)(),o.__metadata("design:type",Boolean)],s.prototype,"showSelector",void 0),o.__decorate([(0,i.Output)(),o.__metadata("design:type",i.EventEmitter)],s.prototype,"onSelect",void 0),s=o.__decorate([(0,i.Component)({selector:"app-token-list-viewer",template:n(750),styles:[n(751)]}),o.__metadata("design:paramtypes",[r.TokenListViewerService])],s));function s(t){this.tokenListViewerService=t,this.showSelector=!1,this.onSelect=new i.EventEmitter}e.TokenListViewerComponent=a},750:function(t,e){t.exports='<div>\r\n    <ng-template [ngIf]="!isInitialized()">\r\n        <app-loading \r\n            [type]="\'simple\'" \r\n            [size]="\'sm\'"\r\n            [text]="\'Loading token list..\'"\r\n            ></app-loading>\r\n    </ng-template>\r\n\r\n    <ng-template [ngIf]="hasError()">\r\n        <ng-template [ngIf]="getError().isErrorNotFound()">\r\n            <div class="text-center py-4">You have no tokens available.</div>\r\n        </ng-template>\r\n        <ng-template [ngIf]="getError().isError5xx()">\r\n            <div class="text-center py-4">Service unvailable at the moment. Please try again later.</div>\r\n        </ng-template>\r\n    </ng-template>\r\n    <ng-template [ngIf]="isInitialized() && hasTokens()">\r\n        <ul class="list-group list-group-flush">\r\n            <ng-container *ngFor="let token of getTokens()">\r\n                <li class="list-group-item d-flex justify-content-between align-items-center pr-0 pl-2">\r\n                    <span class="mr-auto">{{token?.productName}}</span>\r\n                    <span class="mr-2 bg-danger text-white rounded token-count">\r\n                        <i class="fas fa-coins text-warning mr-1"></i>\r\n                        <span class="font-weight-bold">{{token?.quantity - token?.used}}</span>\r\n                    </span>\r\n                    <div *ngIf="shouldShowSelector()" class="custom-control custom-radio">\r\n                        <input type="radio" [attr.id]="getName(token)" class="custom-control-input">\r\n                        <label (click)="select(token)" class="custom-control-label" [attr.for]="getName(token)">&nbsp;</label>\r\n                    </div>\r\n                </li>   \r\n            </ng-container>\r\n         </ul>     \r\n    </ng-template>\r\n</div>'},751:function(t,e,n){var o=n(752);t.exports="string"==typeof o?o:o.toString()},752:function(t,e,n){(e=n(100)(!1)).push([t.i,".token-count{padding:.1em .3em}.custom-control-label{cursor:pointer}",""]),t.exports=e},753:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeaderNavigationViewComponent=void 0;var o=n(1),i=n(0),r=n(101),a=n(113),s=n(253),c=n(213),u=n(256),p=n(143),l=n(160),d=(h.prototype.ngOnInit=function(){this.initialize(),this.initializeSubscribers()},h.prototype.ngOnDestroy=function(){},h.prototype.initialize=function(){},h.prototype.initializeIdentityCalls=function(){this.identityService.hasIdentity()&&this.initializeTokens()},h.prototype.initializeTokens=function(){var t={accountId:this.getAccountId()};this.contentTokenStateService.initializeTokenListHistoryCount(t).subscribe(function(t){})},h.prototype.initializeSubscribers=function(){var e=this;this.identityService.getObservable(p.IdentityService.EVENT_IDENTITY_UPDATE).subscribe(function(t){e.initializeIdentityCalls()})},h.prototype.hasToken=function(){return this.contentTokenStateService.hasToken()},h.prototype.getTotalRemainingTokens=function(){return this.contentTokenStateService.getTotalRemainingTokens()},h.prototype.hasIdentity=function(){return this.identityService.hasIdentity()},h.prototype.isInitialized=function(){return this.identityService.isInitialized()},h.prototype.getFirstName=function(){return this.identityService.getFirstName()},h.prototype.getAccountId=function(){return this.identityService.getAccountId()},h.prototype.isTokenListHistoryCountInitialized=function(){return this.contentTokenStateService.isTokenListHistoryCountInitialized()},h.prototype.toggle=function(){this.navCanvasOpen=!this.navCanvasOpen},h.prototype.isNavCanvasOpen=function(){return this.navCanvasOpen},h.prototype.navigateToPlayList=function(){this.identityService.isAnonymous()?this.openRegister():this.router.navigate(["/play/list"])},h.prototype.navigateToPurchase=function(){this.identityService.isAnonymous()?this.openRegister():this.router.navigate(["/purchase"])},h.prototype.setAuthType=function(t){this.authType=t},h.prototype.getAuthType=function(){return this.authType},h.prototype.isAuthTypeRegister=function(){return this.getAuthType()==l.AuthenticationAppService.AUTH_TYPE_REGISTER},h.prototype.openLogin=function(){this.setAuthType(l.AuthenticationAppService.AUTH_TYPE_LOGIN),this.openAuthenticationApp()},h.prototype.openRegister=function(){this.setAuthType(l.AuthenticationAppService.AUTH_TYPE_REGISTER),this.openAuthenticationApp()},h.prototype.openAuthenticationApp=function(){this.authenticationModalRef=this.modalService.open(this.authenticationAppContent)},h.prototype.openClaimToken=function(){this.claimTokenModalRef=this.modalService.open(this.claimTokenContent,{centered:!0})},h.prototype.openTokenListViewer=function(){this.tokenListViewerModalRef=this.modalService.open(this.tokenListViewerContent,{centered:!0})},h.prototype.onClaimed=function(){this.initializeTokens(),this.closeClaimTokenModal()},h.prototype.closeAuthenticationModal=function(){this.authenticationModalRef&&this.authenticationModalRef.close()},h.prototype.closeClaimTokenModal=function(){this.claimTokenModalRef&&this.claimTokenModalRef.close()},h.prototype.closeTokenListViewerModal=function(){this.tokenListViewerModalRef&&this.tokenListViewerModalRef.close()},h.prototype.logout=function(){this.identityService.logout().subscribe(function(t){console.log("Logout success",t)})},h.prototype.onAuthenticate=function(t){console.log("AUTHENTICATED",t),this.identityService.deleteCache(),this.contentRungModelService.deleteCache(),this.contentPurchaseTokenModelService.deleteCache(),t&&(this.authenticationAppService.isAuthTypeRegister()&&this.openClaimToken(),this.closeAuthenticationModal(),this.identityService.initialize().subscribe(),this.router.navigate(["/play/list"]))},o.__decorate([(0,i.ViewChild)("authenticationAppContent",{static:!1}),o.__metadata("design:type",a.NgbModal)],h.prototype,"authenticationAppContent",void 0),o.__decorate([(0,i.ViewChild)("claimTokenContent",{static:!1}),o.__metadata("design:type",a.NgbModal)],h.prototype,"claimTokenContent",void 0),o.__decorate([(0,i.ViewChild)("tokenListViewerContent",{static:!1}),o.__metadata("design:type",a.NgbModal)],h.prototype,"tokenListViewerContent",void 0),h=o.__decorate([(0,i.Component)({selector:"app-header-navigation-view",template:n(754),styles:[n(755)]}),o.__metadata("design:paramtypes",[a.NgbModal,p.IdentityService,s.ContentRungModelService,u.ContentPurchaseTokenModelService,c.ContentTokenStateService,l.AuthenticationAppService,r.ActivatedRoute,r.Router])],h));function h(t,e,n,o,i,r,a,s){this.modalService=t,this.identityService=e,this.contentRungModelService=n,this.contentPurchaseTokenModelService=o,this.contentTokenStateService=i,this.authenticationAppService=r,this.route=a,this.router=s,this.navCanvasOpen=!1,this.authType=l.AuthenticationAppService.AUTH_TYPE_LOGIN}e.HeaderNavigationViewComponent=d},754:function(t,e){t.exports='<nav class="navbar navbar-expand-lg bg-white py-0 px-2 fixed-top shadow-sm">\r\n    <span class="navbar-brand mr-2" routerLink="/">\r\n        \x3c!-- <i class="fas fa-border-none"></i> --\x3e\r\n        LadderGame\r\n    </span>\r\n    <span (click)="toggle()" class="navbar-toggler p-0 border-0">\r\n        <span class="fas fa-bars"></span>\r\n    </span>\r\n    <div\r\n        class="navbar-collapse offcanvas-collapse"\r\n        [class.open]="isNavCanvasOpen()"\r\n    >\r\n        <ul class="navbar-nav mr-auto">\r\n            <ng-template> </ng-template>\r\n            \x3c!--             <li class="nav-item">\r\n                <span\r\n                    (click)="navigateToPlayList()"\r\n                    class="nav-link"\r\n                    routerLinkActive="active"\r\n                >\r\n                    <i class="far fa-play-circle mr-1"></i>\r\n                    <span>Play</span>\r\n                </span>\r\n            </li> --\x3e\r\n            <li class="nav-item px-2" routerLinkActive="active">\r\n                <span class="nav-link" routerLink="/play" (click)="toggle()">\r\n                    <i class="far fa-play-circle mr-1"></i>\r\n                    <span>Play</span>\r\n                </span>\r\n            </li>\r\n            <li class="nav-item px-2" routerLinkActive="active">\r\n                <span\r\n                    class="nav-link"\r\n                    routerLink="/about"\r\n                    routerLinkActive="active"\r\n                    (click)="toggle()"\r\n                >\r\n                    <i class="far fa-question-circle mr-2"></i>\r\n                    <span>How to play</span>\r\n                </span>\r\n            </li>\r\n            \x3c!-- <ng-template [ngIf]="isInitialized() && hasIdentity()">\r\n            <li class="nav-item">\r\n                <span class="nav-link" routerLink="/setup" routerLinkActive="active">\r\n                    <i class="fas fa-plus mr-2"></i>\r\n                    <span>New Game</span>\r\n                </span>\r\n            </li>\r\n            </ng-template>\r\n            <li class="nav-item">\r\n                <span class="nav-link" routerLink="/about" routerLinkActive="active">\r\n                    <i class="far fa-question-circle mr-2"></i>\r\n                    <span>How to play</span>\r\n                </span>\r\n            </li>\r\n            <ng-template [ngIf]="isInitialized() && hasIdentity()">\r\n            <li class="nav-item">\r\n                <span class="nav-link" routerLink="/friends" routerLinkActive="active">\r\n                    <i class="fas fa-user-friends mr-2"></i>\r\n                    <span>Friends</span>\r\n                </span>\r\n            </li>\r\n            </ng-template>\r\n            <li class="nav-item">\r\n                <span\r\n                    (click)="navigateToPurchase()"\r\n                    class="nav-link"\r\n                    routerLinkActive="active"\r\n                >\r\n                    <i class="fas fa-shopping-cart mr-2"></i>\r\n                    <span>Buy Token</span>\r\n                </span>\r\n            </li>\r\n            <ng-template\r\n                [ngIf]="\r\n                    isInitialized() &&\r\n                    hasIdentity() &&\r\n                    !hasToken() &&\r\n                    isTokenListHistoryCountInitialized()\r\n                "\r\n            >\r\n                <li class="nav-item d-flex align-items-center">\r\n                    <span\r\n                        (click)="openClaimToken()"\r\n                        class="claim-link rounded px-2 py-1 bg-danger"\r\n                        routerLinkActive="active"\r\n                    >\r\n                        <i class="fa fa-trophy mr-2 text-warning"></i>\r\n                        <span>Free Tokens!</span>\r\n                    </span>\r\n                </li>\r\n            </ng-template>\r\n            --\x3e\r\n        </ul>\r\n        <ng-template [ngIf]="isInitialized() && !hasIdentity()">\r\n            \x3c!--             <span\r\n                routerLink=""\r\n                (click)="openLogin()"\r\n                class="text-dark auth-link cursor-pointer my-2 my-sm-0 mr-2"\r\n                >Login</span\r\n            > --\x3e\r\n        </ng-template>\r\n\r\n        <ng-template [ngIf]="isInitialized() && hasIdentity()">\r\n            <span\r\n                (click)="openTokenListViewer()"\r\n                class="mr-2 bg-danger text-white rounded token-count"\r\n            >\r\n                <i class="fas fa-coins text-warning mr-1"></i>\r\n                <span class="font-weight-bold">{{\r\n                    getTotalRemainingTokens()\r\n                }}</span>\r\n            </span>\r\n            <span\r\n                routerLink="/account"\r\n                class="text-dark auth-link cursor-pointer my-2 my-sm-0 mr-2"\r\n            >\r\n                <i class="fas fa-user mr-2"></i\r\n                ><span>{{ getFirstName() }}</span>\r\n            </span>\r\n            <span\r\n                routerLink=""\r\n                (click)="logout()"\r\n                class="text-dark auth-link my-2 my-sm-0 mr-2"\r\n            >\r\n                <i class="fas fa-power-off mr-2"></i>\r\n                <span>Logout</span>\r\n            </span>\r\n        </ng-template>\r\n    </div>\r\n</nav>\r\n\r\n<ng-template #authenticationAppContent let-modal>\r\n    <div class="modal-header border-0 p-1 pr-2">\r\n        <span\r\n            type="button"\r\n            class="close"\r\n            aria-label="Close"\r\n            (click)="modal.dismiss(\'Cross click\')"\r\n        >\r\n            <span aria-hidden="true">&times;</span>\r\n        </span>\r\n    </div>\r\n    <div class="modal-body pt-0 pb-3 px-4">\r\n        <app-authentication-app\r\n            [authType]="getAuthType()"\r\n            (onAuthenticate)="onAuthenticate($event)"\r\n        ></app-authentication-app>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #claimTokenContent>\r\n    <div class="modal-body">\r\n        <app-token-installer\r\n            (onClaimed)="onClaimed($event)"\r\n        ></app-token-installer>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #tokenListViewerContent>\r\n    <div class="modal-header py-2 border-0 token-list-viewer-header">\r\n        <h5 class="mb-0 py-0">Token list</h5>\r\n    </div>\r\n    <div class="modal-body px-1">\r\n        <app-token-list-viewer\r\n            [accountId]="getAccountId()"\r\n        ></app-token-list-viewer>\r\n    </div>\r\n</ng-template>\r\n'},755:function(t,e,n){var o=n(756);t.exports="string"==typeof o?o:o.toString()},756:function(t,e,n){(e=n(100)(!1)).push([t.i,".navbar-brand{cursor:pointer;outline:none}.nav-link,.auth-link{cursor:pointer;outline:0}.claim-link{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1);cursor:pointer;color:#fff;font-weight:bold}.dropdown-menu{min-width:0 !important}.dropdown-item{cursor:pointer}.active{background-color:#e2e6ea}.nav-item .btn{outline:none}.token-count{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1);cursor:pointer;padding:.1em .3em}.token-list-viewer-header{box-shadow:0 0 1px 1px rgba(20,23,28,.1),0 3px 1px 0 rgba(20,23,28,.1)}",""]),t.exports=e},757:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.environment=void 0,e.environment={production:!1}}},[[706,5,4,16,20,9,18,12,14,15,19,21]]]);